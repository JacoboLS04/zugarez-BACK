{"@timestamp":"2025-10-19T18:10:34.6985143-05:00","@version":"1","level":"INFO","message":"Starting ProductControllerTest using Java 23.0.2 with PID 12636 (started by Luich in C:\\Users\\Luich\\Desktop\\Universidad 2025-2\\Software III\\Zugarez\\zugarez-BACK)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:34.7129386-05:00","@version":"1","level":"DEBUG","message":"Running with Spring Boot v3.5.4, Spring v6.2.9","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:34.7129386-05:00","@version":"1","level":"INFO","message":"No active profile set, falling back to 1 default profile: \"default\"","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.5840888-05:00","@version":"1","level":"DEBUG","message":"drop table if exists cargo cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.5936136-05:00","@version":"1","level":"DEBUG","message":"drop table if exists contrato cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.5936136-05:00","@version":"1","level":"DEBUG","message":"drop table if exists empleado cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.5936136-05:00","@version":"1","level":"DEBUG","message":"drop table if exists inventario_movimientos cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.5936136-05:00","@version":"1","level":"DEBUG","message":"drop table if exists lotes cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.5951388-05:00","@version":"1","level":"DEBUG","message":"drop table if exists metodo_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.5951388-05:00","@version":"1","level":"DEBUG","message":"drop table if exists nomina_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.5951388-05:00","@version":"1","level":"DEBUG","message":"drop table if exists order_items cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.5951388-05:00","@version":"1","level":"DEBUG","message":"drop table if exists orders cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.5961494-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pago_pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.5961494-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.5961494-05:00","@version":"1","level":"DEBUG","message":"drop table if exists products cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.5971471-05:00","@version":"1","level":"DEBUG","message":"drop table if exists supplier cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.5971471-05:00","@version":"1","level":"DEBUG","message":"drop table if exists tipo_movimiento cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.5981555-05:00","@version":"1","level":"DEBUG","message":"drop table if exists user_roles cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.5981555-05:00","@version":"1","level":"DEBUG","message":"drop table if exists users cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.6066944-05:00","@version":"1","level":"DEBUG","message":"create table cargo (id_cargo integer generated by default as identity, nombre_cargo varchar(255), primary key (id_cargo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.6232041-05:00","@version":"1","level":"DEBUG","message":"create table contrato (id_contrato integer generated by default as identity, id_empleado integer, salario_base float(53), fecha_fin timestamp(6), fecha_inicio timestamp(6), primary key (id_contrato))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.6257252-05:00","@version":"1","level":"DEBUG","message":"create table empleado (id_cargo integer, id_empleado integer generated by default as identity, apellido varchar(255), cedula varchar(255), email varchar(255), nombre varchar(255), primary key (id_empleado))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.6277198-05:00","@version":"1","level":"DEBUG","message":"create table inventario_movimientos (cantidad integer, id_lote integer, id_movimiento integer generated by default as identity, id_tipo_movimiento integer, fecha_movimiento timestamp(6), motivo varchar(255), primary key (id_movimiento))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.6307265-05:00","@version":"1","level":"DEBUG","message":"create table lotes (available_quantity integer not null, batch_price float(53) not null, created_at date, expiration_date date not null, id integer generated by default as identity, initial_quantity integer not null, product_id integer not null, unit_price float(53) not null, primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.6327185-05:00","@version":"1","level":"DEBUG","message":"create table metodo_pago (id_metodo integer generated by default as identity, concepto varchar(255), primary key (id_metodo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.6347215-05:00","@version":"1","level":"DEBUG","message":"create table nomina_pago (adiciones float(53), deducciones float(53), id_contrato integer, id_pago integer generated by default as identity, neto float(53), salario_bruto float(53), fecha_pago timestamp(6), primary key (id_pago))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.6361821-05:00","@version":"1","level":"DEBUG","message":"create table order_items (id integer generated by default as identity, order_id integer not null, price numeric(10,2) not null, product_id integer not null, quantity integer not null, subtotal numeric(10,2) not null, primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.6391855-05:00","@version":"1","level":"DEBUG","message":"create table orders (id integer generated by default as identity, subtotal numeric(10,2) not null, tax numeric(10,2) not null, total numeric(10,2) not null, user_id integer not null, created_at timestamp(6) not null, updated_at timestamp(6), mercadopago_payment_id varchar(100), mercadopago_preference_id varchar(100), status enum ('APPROVED','CANCELLED','FAILED','PENDING','REFUNDED','REJECTED') not null, primary key (id), check (status IN ('PENDING', 'APPROVED', 'REJECTED', 'FAILED', 'CANCELLED', 'REFUNDED')))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.6547406-05:00","@version":"1","level":"DEBUG","message":"create table pago_pedido (id_metodo_pago integer, id_pago integer generated by default as identity, id_pedido integer, monto float(53), primary key (id_pago))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.6557587-05:00","@version":"1","level":"DEBUG","message":"create table pedido (id_cliente integer, id_pedido integer generated by default as identity, total_pedido float(53), fecha_pedido timestamp(6), id_estado_pedido varchar(255), primary key (id_pedido))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.6577566-05:00","@version":"1","level":"DEBUG","message":"create table products (id integer generated by default as identity, price float(53) not null, stock_actual integer not null, stock_minimo integer not null, supplier_id integer, brand varchar(255), description TEXT, name varchar(255) not null, url_image varchar(255), primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.6617611-05:00","@version":"1","level":"DEBUG","message":"create table supplier (id_supplier integer generated by default as identity, address varchar(255), email varchar(255), name varchar(255), primary key (id_supplier))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.662757-05:00","@version":"1","level":"DEBUG","message":"create table tipo_movimiento (id_tipo integer generated by default as identity, concepto varchar(255), primary key (id_tipo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.663757-05:00","@version":"1","level":"DEBUG","message":"create table user_roles (user_id integer not null, roles enum ('ROLE_ADMIN','ROLE_USER'))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.6652748-05:00","@version":"1","level":"DEBUG","message":"create table users (id integer generated by default as identity, verified boolean, deactivated_at timestamp(6), login_code_expiry timestamp(6), deactivation_reason varchar(500), email varchar(255), login_code varchar(255), password varchar(255), username varchar(255), verification_token varchar(255), primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.6659586-05:00","@version":"1","level":"DEBUG","message":"alter table if exists lotes add constraint FK508nf4uljuunqx6supqd81mlf foreign key (product_id) references products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.6770313-05:00","@version":"1","level":"DEBUG","message":"alter table if exists order_items add constraint FKbioxgbv59vetrxe0ejfubep1w foreign key (order_id) references orders","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.6790322-05:00","@version":"1","level":"DEBUG","message":"alter table if exists order_items add constraint FKocimc7dtr037rh4ls4l95nlfi foreign key (product_id) references products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.6800374-05:00","@version":"1","level":"DEBUG","message":"alter table if exists orders add constraint FK32ql8ubntj5uh44ph9659tiih foreign key (user_id) references users","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:42.6820371-05:00","@version":"1","level":"DEBUG","message":"alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:44.3029565-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.update(int,com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:44.3632579-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.update(int,com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:44.4115066-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.delete(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:44.4115066-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.delete(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:44.4125063-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.save(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:44.4125063-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.save(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:44.4125063-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getAll()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:44.4125063-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getAll()]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:44.4135026-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.debugSql()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:44.4135026-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.debugSql()]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:44.4135026-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.saveAndReturn(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:44.4135026-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.saveAndReturn(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:44.4150142-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getOne(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:44.4150142-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getOne(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.0362739-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLoteById(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.0372726-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLoteById(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.0392716-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getAvailableLotes()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.0392716-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getAvailableLotes()]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.0392716-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLotesByProduct(int)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.0402768-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLotesByProduct(int)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.0402768-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getAllLotes()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.0402768-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getAllLotes()]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.0402768-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLotesProximosAVencer(int)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.0412711-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLotesProximosAVencer(int)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.0412711-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.updateLote(int,com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.0412711-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.updateLote(int,com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.0422702-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.deleteLote(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.0422702-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.deleteLote(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.0432729-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.createLote(com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.0432729-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.createLote(com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.0432729-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.createLoteAndReturn(com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.0432729-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.createLoteAndReturn(com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.0432729-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getStockByProduct(int)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.0447802-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getStockByProduct(int)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.0447802-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.reduceStock(int,int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.045791-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.reduceStock(int,int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.1079789-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.getOrder(java.lang.Integer,jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.1079789-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.payment.controller.PaymentController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.getOrder(java.lang.Integer,jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.1099783-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.checkout(com.zugarez.zugarez_BACK.payment.dto.CheckoutRequest,jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.1099783-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.payment.controller.PaymentController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.checkout(com.zugarez.zugarez_BACK.payment.dto.CheckoutRequest,jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.1109771-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.checkPaymentStatus(java.lang.Integer,jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.1109771-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.payment.controller.PaymentController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.checkPaymentStatus(java.lang.Integer,jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.1109771-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.getMyOrders(jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.1119768-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.payment.controller.PaymentController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.getMyOrders(jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.1988158-05:00","@version":"1","level":"INFO","message":"Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.2129703-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.security.controller.UserController.getDeactivatedUsers()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.2129703-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.security.controller.UserController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.security.controller.UserController.getDeactivatedUsers()]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.2139723-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.security.controller.UserController.reactivateUser(int,jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.2149682-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.security.controller.UserController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.security.controller.UserController.reactivateUser(int,jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.5382856-05:00","@version":"1","level":"INFO","message":"Registrando AuthInterceptor","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.5392888-05:00","@version":"1","level":"INFO","message":"AuthInterceptor registrado correctamente","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:45.540285-05:00","@version":"1","level":"INFO","message":"Rutas protegidas: /api/**, /payment/** (excepto callbacks)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:46.2428407-05:00","@version":"1","level":"DEBUG","message":"Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:46.8707487-05:00","@version":"1","level":"DEBUG","message":"Filter 'jwtFilter' configured for use","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:46.9635848-05:00","@version":"1","level":"INFO","message":"Started ProductControllerTest in 13.377 seconds (process running for 15.517)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.3570605-05:00","@version":"1","level":"DEBUG","message":"Securing DELETE /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.3814494-05:00","@version":"1","level":"DEBUG","message":"Secured DELETE /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.4221849-05:00","@version":"1","level":"DEBUG","message":"Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.delete(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.5877199-05:00","@version":"1","level":"DEBUG","message":"Securing DELETE /products/999","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.5897306-05:00","@version":"1","level":"DEBUG","message":"Secured DELETE /products/999","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.5917227-05:00","@version":"1","level":"DEBUG","message":"Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.delete(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.6137786-05:00","@version":"1","level":"DEBUG","message":"Securing GET /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.6152874-05:00","@version":"1","level":"DEBUG","message":"Set SecurityContextHolder to anonymous SecurityContext","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.6193069-05:00","@version":"1","level":"ERROR","message":"Token no encontrado o inválido","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.6373717-05:00","@version":"1","level":"DEBUG","message":"Securing GET /products/999","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.6393706-05:00","@version":"1","level":"DEBUG","message":"Secured GET /products/999","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.6433673-05:00","@version":"1","level":"DEBUG","message":"Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getOne(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.6820161-05:00","@version":"1","level":"DEBUG","message":"Securing POST /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.6850173-05:00","@version":"1","level":"DEBUG","message":"Secured POST /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.809714-05:00","@version":"1","level":"DEBUG","message":"Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.save(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.8890817-05:00","@version":"1","level":"DEBUG","message":"Securing POST /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.8910878-05:00","@version":"1","level":"DEBUG","message":"Secured POST /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.9141115-05:00","@version":"1","level":"DEBUG","message":"Securing PUT /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.9161857-05:00","@version":"1","level":"DEBUG","message":"Secured PUT /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.9201783-05:00","@version":"1","level":"DEBUG","message":"Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.update(int,com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.9326951-05:00","@version":"1","level":"DEBUG","message":"Securing PUT /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.93369-05:00","@version":"1","level":"DEBUG","message":"Secured PUT /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.9382453-05:00","@version":"1","level":"DEBUG","message":"Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.update(int,com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.9514964-05:00","@version":"1","level":"DEBUG","message":"Securing GET /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.9540333-05:00","@version":"1","level":"DEBUG","message":"Secured GET /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.9555482-05:00","@version":"1","level":"DEBUG","message":"Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getAll(); target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.9796454-05:00","@version":"1","level":"DEBUG","message":"Securing DELETE /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.9816456-05:00","@version":"1","level":"DEBUG","message":"Secured DELETE /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.9836499-05:00","@version":"1","level":"DEBUG","message":"Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.delete(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.9951844-05:00","@version":"1","level":"DEBUG","message":"Securing POST /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.9963897-05:00","@version":"1","level":"DEBUG","message":"Secured POST /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:47.9983939-05:00","@version":"1","level":"DEBUG","message":"Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.save(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.0109038-05:00","@version":"1","level":"DEBUG","message":"Securing GET /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.0119042-05:00","@version":"1","level":"DEBUG","message":"Secured GET /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.0129086-05:00","@version":"1","level":"DEBUG","message":"Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getOne(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.0269674-05:00","@version":"1","level":"DEBUG","message":"Securing POST /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.0279794-05:00","@version":"1","level":"DEBUG","message":"Secured POST /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.0299812-05:00","@version":"1","level":"DEBUG","message":"Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.save(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.3123645-05:00","@version":"1","level":"INFO","message":"Starting ProductRepositoryTest using Java 23.0.2 with PID 12636 (started by Luich in C:\\Users\\Luich\\Desktop\\Universidad 2025-2\\Software III\\Zugarez\\zugarez-BACK)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.313364-05:00","@version":"1","level":"DEBUG","message":"Running with Spring Boot v3.5.4, Spring v6.2.9","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.313364-05:00","@version":"1","level":"INFO","message":"No active profile set, falling back to 1 default profile: \"default\"","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8264521-05:00","@version":"1","level":"DEBUG","message":"drop table if exists cargo cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8274581-05:00","@version":"1","level":"DEBUG","message":"drop table if exists contrato cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8274581-05:00","@version":"1","level":"DEBUG","message":"drop table if exists empleado cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8274581-05:00","@version":"1","level":"DEBUG","message":"drop table if exists inventario_movimientos cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8274581-05:00","@version":"1","level":"DEBUG","message":"drop table if exists lotes cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8284543-05:00","@version":"1","level":"DEBUG","message":"drop table if exists metodo_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8284543-05:00","@version":"1","level":"DEBUG","message":"drop table if exists nomina_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8284543-05:00","@version":"1","level":"DEBUG","message":"drop table if exists order_items cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8284543-05:00","@version":"1","level":"DEBUG","message":"drop table if exists orders cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8284543-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pago_pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8284543-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8294522-05:00","@version":"1","level":"DEBUG","message":"drop table if exists products cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8294522-05:00","@version":"1","level":"DEBUG","message":"drop table if exists supplier cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8294522-05:00","@version":"1","level":"DEBUG","message":"drop table if exists tipo_movimiento cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8294522-05:00","@version":"1","level":"DEBUG","message":"drop table if exists user_roles cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8294522-05:00","@version":"1","level":"DEBUG","message":"drop table if exists users cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8304533-05:00","@version":"1","level":"DEBUG","message":"create table cargo (id_cargo integer generated by default as identity, nombre_cargo varchar(255), primary key (id_cargo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8314527-05:00","@version":"1","level":"DEBUG","message":"create table contrato (id_contrato integer generated by default as identity, id_empleado integer, salario_base float(53), fecha_fin timestamp(6), fecha_inicio timestamp(6), primary key (id_contrato))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8324606-05:00","@version":"1","level":"DEBUG","message":"create table empleado (id_cargo integer, id_empleado integer generated by default as identity, apellido varchar(255), cedula varchar(255), email varchar(255), nombre varchar(255), primary key (id_empleado))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8334605-05:00","@version":"1","level":"DEBUG","message":"create table inventario_movimientos (cantidad integer, id_lote integer, id_movimiento integer generated by default as identity, id_tipo_movimiento integer, fecha_movimiento timestamp(6), motivo varchar(255), primary key (id_movimiento))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8359766-05:00","@version":"1","level":"DEBUG","message":"create table lotes (available_quantity integer not null, batch_price float(53) not null, created_at date, expiration_date date not null, id integer generated by default as identity, initial_quantity integer not null, product_id integer not null, unit_price float(53) not null, primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.836978-05:00","@version":"1","level":"DEBUG","message":"create table metodo_pago (id_metodo integer generated by default as identity, concepto varchar(255), primary key (id_metodo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8379754-05:00","@version":"1","level":"DEBUG","message":"create table nomina_pago (adiciones float(53), deducciones float(53), id_contrato integer, id_pago integer generated by default as identity, neto float(53), salario_bruto float(53), fecha_pago timestamp(6), primary key (id_pago))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8389748-05:00","@version":"1","level":"DEBUG","message":"create table order_items (id integer generated by default as identity, order_id integer not null, price numeric(10,2) not null, product_id integer not null, quantity integer not null, subtotal numeric(10,2) not null, primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8399775-05:00","@version":"1","level":"DEBUG","message":"create table orders (id integer generated by default as identity, subtotal numeric(10,2) not null, tax numeric(10,2) not null, total numeric(10,2) not null, user_id integer not null, created_at timestamp(6) not null, updated_at timestamp(6), mercadopago_payment_id varchar(100), mercadopago_preference_id varchar(100), status enum ('APPROVED','CANCELLED','FAILED','PENDING','REFUNDED','REJECTED') not null, primary key (id), check (status IN ('PENDING', 'APPROVED', 'REJECTED', 'FAILED', 'CANCELLED', 'REFUNDED')))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8409753-05:00","@version":"1","level":"DEBUG","message":"create table pago_pedido (id_metodo_pago integer, id_pago integer generated by default as identity, id_pedido integer, monto float(53), primary key (id_pago))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8419751-05:00","@version":"1","level":"DEBUG","message":"create table pedido (id_cliente integer, id_pedido integer generated by default as identity, total_pedido float(53), fecha_pedido timestamp(6), id_estado_pedido varchar(255), primary key (id_pedido))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8429747-05:00","@version":"1","level":"DEBUG","message":"create table products (id integer generated by default as identity, price float(53) not null, stock_actual integer not null, stock_minimo integer not null, supplier_id integer, brand varchar(255), description TEXT, name varchar(255) not null, url_image varchar(255), primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.844978-05:00","@version":"1","level":"DEBUG","message":"create table supplier (id_supplier integer generated by default as identity, address varchar(255), email varchar(255), name varchar(255), primary key (id_supplier))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8460837-05:00","@version":"1","level":"DEBUG","message":"create table tipo_movimiento (id_tipo integer generated by default as identity, concepto varchar(255), primary key (id_tipo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8470869-05:00","@version":"1","level":"DEBUG","message":"create table user_roles (user_id integer not null, roles enum ('ROLE_ADMIN','ROLE_USER'))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8480862-05:00","@version":"1","level":"DEBUG","message":"create table users (id integer generated by default as identity, verified boolean, deactivated_at timestamp(6), login_code_expiry timestamp(6), deactivation_reason varchar(500), email varchar(255), login_code varchar(255), password varchar(255), username varchar(255), verification_token varchar(255), primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.849083-05:00","@version":"1","level":"DEBUG","message":"alter table if exists lotes add constraint FK508nf4uljuunqx6supqd81mlf foreign key (product_id) references products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.851089-05:00","@version":"1","level":"DEBUG","message":"alter table if exists order_items add constraint FKbioxgbv59vetrxe0ejfubep1w foreign key (order_id) references orders","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8525969-05:00","@version":"1","level":"DEBUG","message":"alter table if exists order_items add constraint FKocimc7dtr037rh4ls4l95nlfi foreign key (product_id) references products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8536022-05:00","@version":"1","level":"DEBUG","message":"alter table if exists orders add constraint FK32ql8ubntj5uh44ph9659tiih foreign key (user_id) references users","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.8551102-05:00","@version":"1","level":"DEBUG","message":"alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:48.9425311-05:00","@version":"1","level":"INFO","message":"Started ProductRepositoryTest in 0.677 seconds (process running for 17.496)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:49.0383838-05:00","@version":"1","level":"DEBUG","message":"select p1_0.id,p1_0.brand,p1_0.description,p1_0.name,p1_0.price,p1_0.stock_actual,p1_0.stock_minimo,p1_0.supplier_id,p1_0.url_image from products p1_0 where p1_0.name=?","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:49.1129804-05:00","@version":"1","level":"DEBUG","message":"insert into products (brand,description,name,price,stock_actual,stock_minimo,supplier_id,url_image,id) values (?,?,?,?,?,?,?,?,default)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:49.1733692-05:00","@version":"1","level":"DEBUG","message":"update products set brand=?,description=?,name=?,price=?,stock_actual=?,stock_minimo=?,supplier_id=?,url_image=? where id=?","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:49.2020052-05:00","@version":"1","level":"DEBUG","message":"select p1_0.id,p1_0.brand,p1_0.description,p1_0.name,p1_0.price,p1_0.stock_actual,p1_0.stock_minimo,p1_0.supplier_id,p1_0.url_image from products p1_0 where p1_0.id=?","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:49.2160938-05:00","@version":"1","level":"DEBUG","message":"select p1_0.id from products p1_0 where p1_0.name=? fetch first ? rows only","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:49.2256254-05:00","@version":"1","level":"DEBUG","message":"insert into products (brand,description,name,price,stock_actual,stock_minimo,supplier_id,url_image,id) values (?,?,?,?,?,?,?,?,default)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:49.2306512-05:00","@version":"1","level":"DEBUG","message":"select p1_0.id,p1_0.brand,p1_0.description,p1_0.name,p1_0.price,p1_0.stock_actual,p1_0.stock_minimo,p1_0.supplier_id,p1_0.url_image from products p1_0 where p1_0.name=?","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:49.2421837-05:00","@version":"1","level":"DEBUG","message":"insert into products (brand,description,name,price,stock_actual,stock_minimo,supplier_id,url_image,id) values (?,?,?,?,?,?,?,?,default)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:49.2487255-05:00","@version":"1","level":"DEBUG","message":"insert into products (brand,description,name,price,stock_actual,stock_minimo,supplier_id,url_image,id) values (?,?,?,?,?,?,?,?,default)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:49.253228-05:00","@version":"1","level":"DEBUG","message":"select p1_0.id from products p1_0 where p1_0.name=? fetch first ? rows only","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:49.2607576-05:00","@version":"1","level":"DEBUG","message":"insert into products (brand,description,name,price,stock_actual,stock_minimo,supplier_id,url_image,id) values (?,?,?,?,?,?,?,?,default)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:49.2627556-05:00","@version":"1","level":"DEBUG","message":"insert into products (brand,description,name,price,stock_actual,stock_minimo,supplier_id,url_image,id) values (?,?,?,?,?,?,?,?,default)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:49.2703045-05:00","@version":"1","level":"DEBUG","message":"select p1_0.id,p1_0.brand,p1_0.description,p1_0.name,p1_0.price,p1_0.stock_actual,p1_0.stock_minimo,p1_0.supplier_id,p1_0.url_image from products p1_0","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:49.277666-05:00","@version":"1","level":"DEBUG","message":"insert into products (brand,description,name,price,stock_actual,stock_minimo,supplier_id,url_image,id) values (?,?,?,?,?,?,?,?,default)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:49.2851751-05:00","@version":"1","level":"DEBUG","message":"delete from products where id=?","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:49.2887047-05:00","@version":"1","level":"DEBUG","message":"select p1_0.id,p1_0.brand,p1_0.description,p1_0.name,p1_0.price,p1_0.stock_actual,p1_0.stock_minimo,p1_0.supplier_id,p1_0.url_image from products p1_0 where p1_0.id=?","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:49.2937198-05:00","@version":"1","level":"DEBUG","message":"insert into products (brand,description,name,price,stock_actual,stock_minimo,supplier_id,url_image,id) values (?,?,?,?,?,?,?,?,default)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:50.3034439-05:00","@version":"1","level":"INFO","message":"Starting ZugarezBackApplicationTests using Java 23.0.2 with PID 12636 (started by Luich in C:\\Users\\Luich\\Desktop\\Universidad 2025-2\\Software III\\Zugarez\\zugarez-BACK)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:50.3034439-05:00","@version":"1","level":"DEBUG","message":"Running with Spring Boot v3.5.4, Spring v6.2.9","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:50.3034439-05:00","@version":"1","level":"INFO","message":"No active profile set, falling back to 1 default profile: \"default\"","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1340603-05:00","@version":"1","level":"DEBUG","message":"drop table if exists cargo cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.137248-05:00","@version":"1","level":"DEBUG","message":"drop table if exists contrato cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1382478-05:00","@version":"1","level":"DEBUG","message":"drop table if exists empleado cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1392475-05:00","@version":"1","level":"DEBUG","message":"drop table if exists inventario_movimientos cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1402456-05:00","@version":"1","level":"DEBUG","message":"drop table if exists lotes cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1402456-05:00","@version":"1","level":"DEBUG","message":"drop table if exists metodo_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1412479-05:00","@version":"1","level":"DEBUG","message":"drop table if exists nomina_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1422519-05:00","@version":"1","level":"DEBUG","message":"drop table if exists order_items cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1432445-05:00","@version":"1","level":"DEBUG","message":"drop table if exists orders cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1442519-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pago_pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1442519-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1442519-05:00","@version":"1","level":"DEBUG","message":"drop table if exists products cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1452492-05:00","@version":"1","level":"DEBUG","message":"drop table if exists supplier cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1457567-05:00","@version":"1","level":"DEBUG","message":"drop table if exists tipo_movimiento cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1467574-05:00","@version":"1","level":"DEBUG","message":"drop table if exists user_roles cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1477588-05:00","@version":"1","level":"DEBUG","message":"drop table if exists users cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1477588-05:00","@version":"1","level":"DEBUG","message":"create table cargo (id_cargo integer generated by default as identity, nombre_cargo varchar(255), primary key (id_cargo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1497712-05:00","@version":"1","level":"DEBUG","message":"create table contrato (id_contrato integer generated by default as identity, id_empleado integer, salario_base float(53), fecha_fin timestamp(6), fecha_inicio timestamp(6), primary key (id_contrato))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1507653-05:00","@version":"1","level":"DEBUG","message":"create table empleado (id_cargo integer, id_empleado integer generated by default as identity, apellido varchar(255), cedula varchar(255), email varchar(255), nombre varchar(255), primary key (id_empleado))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1527608-05:00","@version":"1","level":"DEBUG","message":"create table inventario_movimientos (cantidad integer, id_lote integer, id_movimiento integer generated by default as identity, id_tipo_movimiento integer, fecha_movimiento timestamp(6), motivo varchar(255), primary key (id_movimiento))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1547613-05:00","@version":"1","level":"DEBUG","message":"create table lotes (available_quantity integer not null, batch_price float(53) not null, created_at date, expiration_date date not null, id integer generated by default as identity, initial_quantity integer not null, product_id integer not null, unit_price float(53) not null, primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1552682-05:00","@version":"1","level":"DEBUG","message":"create table metodo_pago (id_metodo integer generated by default as identity, concepto varchar(255), primary key (id_metodo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1572869-05:00","@version":"1","level":"DEBUG","message":"create table nomina_pago (adiciones float(53), deducciones float(53), id_contrato integer, id_pago integer generated by default as identity, neto float(53), salario_bruto float(53), fecha_pago timestamp(6), primary key (id_pago))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1582845-05:00","@version":"1","level":"DEBUG","message":"create table order_items (id integer generated by default as identity, order_id integer not null, price numeric(10,2) not null, product_id integer not null, quantity integer not null, subtotal numeric(10,2) not null, primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1592875-05:00","@version":"1","level":"DEBUG","message":"create table orders (id integer generated by default as identity, subtotal numeric(10,2) not null, tax numeric(10,2) not null, total numeric(10,2) not null, user_id integer not null, created_at timestamp(6) not null, updated_at timestamp(6), mercadopago_payment_id varchar(100), mercadopago_preference_id varchar(100), status enum ('APPROVED','CANCELLED','FAILED','PENDING','REFUNDED','REJECTED') not null, primary key (id), check (status IN ('PENDING', 'APPROVED', 'REJECTED', 'FAILED', 'CANCELLED', 'REFUNDED')))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1612846-05:00","@version":"1","level":"DEBUG","message":"create table pago_pedido (id_metodo_pago integer, id_pago integer generated by default as identity, id_pedido integer, monto float(53), primary key (id_pago))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.162282-05:00","@version":"1","level":"DEBUG","message":"create table pedido (id_cliente integer, id_pedido integer generated by default as identity, total_pedido float(53), fecha_pedido timestamp(6), id_estado_pedido varchar(255), primary key (id_pedido))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1632812-05:00","@version":"1","level":"DEBUG","message":"create table products (id integer generated by default as identity, price float(53) not null, stock_actual integer not null, stock_minimo integer not null, supplier_id integer, brand varchar(255), description TEXT, name varchar(255) not null, url_image varchar(255), primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1642813-05:00","@version":"1","level":"DEBUG","message":"create table supplier (id_supplier integer generated by default as identity, address varchar(255), email varchar(255), name varchar(255), primary key (id_supplier))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1652842-05:00","@version":"1","level":"DEBUG","message":"create table tipo_movimiento (id_tipo integer generated by default as identity, concepto varchar(255), primary key (id_tipo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1676375-05:00","@version":"1","level":"DEBUG","message":"create table user_roles (user_id integer not null, roles enum ('ROLE_ADMIN','ROLE_USER'))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1686389-05:00","@version":"1","level":"DEBUG","message":"create table users (id integer generated by default as identity, verified boolean, deactivated_at timestamp(6), login_code_expiry timestamp(6), deactivation_reason varchar(500), email varchar(255), login_code varchar(255), password varchar(255), username varchar(255), verification_token varchar(255), primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1696385-05:00","@version":"1","level":"DEBUG","message":"alter table if exists lotes add constraint FK508nf4uljuunqx6supqd81mlf foreign key (product_id) references products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1706412-05:00","@version":"1","level":"DEBUG","message":"alter table if exists order_items add constraint FKbioxgbv59vetrxe0ejfubep1w foreign key (order_id) references orders","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1716419-05:00","@version":"1","level":"DEBUG","message":"alter table if exists order_items add constraint FKocimc7dtr037rh4ls4l95nlfi foreign key (product_id) references products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1726432-05:00","@version":"1","level":"DEBUG","message":"alter table if exists orders add constraint FK32ql8ubntj5uh44ph9659tiih foreign key (user_id) references users","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.1751429-05:00","@version":"1","level":"DEBUG","message":"alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2294899-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.update(int,com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2294899-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.update(int,com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2324854-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.delete(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2324854-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.delete(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2324854-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.save(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2324854-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.save(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2334896-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getAll()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2334896-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getAll()]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2334896-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.debugSql()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2334896-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.debugSql()]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2334896-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.saveAndReturn(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2334896-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.saveAndReturn(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2334896-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getOne(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2334896-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getOne(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2715074-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLoteById(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2725115-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLoteById(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2735159-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getAvailableLotes()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2735159-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getAvailableLotes()]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2735159-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLotesByProduct(int)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2735159-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLotesByProduct(int)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2735159-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getAllLotes()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2750207-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getAllLotes()]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2750207-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLotesProximosAVencer(int)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2750207-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLotesProximosAVencer(int)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2750207-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.updateLote(int,com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2760285-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.updateLote(int,com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2760285-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.deleteLote(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2770305-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.deleteLote(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2770305-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.createLote(com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2770305-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.createLote(com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2770305-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.createLoteAndReturn(com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2770305-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.createLoteAndReturn(com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2770305-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getStockByProduct(int)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2770305-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getStockByProduct(int)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2780272-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.reduceStock(int,int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.2780272-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.reduceStock(int,int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.3001216-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.getOrder(java.lang.Integer,jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.3001216-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.payment.controller.PaymentController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.getOrder(java.lang.Integer,jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.3021179-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.checkout(com.zugarez.zugarez_BACK.payment.dto.CheckoutRequest,jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.3021179-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.payment.controller.PaymentController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.checkout(com.zugarez.zugarez_BACK.payment.dto.CheckoutRequest,jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.3021179-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.checkPaymentStatus(java.lang.Integer,jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.3031224-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.payment.controller.PaymentController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.checkPaymentStatus(java.lang.Integer,jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.3031224-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.getMyOrders(jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.3031224-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.payment.controller.PaymentController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.getMyOrders(jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.3274543-05:00","@version":"1","level":"INFO","message":"Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.3294478-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.security.controller.UserController.getDeactivatedUsers()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.3304474-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.security.controller.UserController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.security.controller.UserController.getDeactivatedUsers()]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.3304474-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.security.controller.UserController.reactivateUser(int,jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.3314502-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.security.controller.UserController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.security.controller.UserController.reactivateUser(int,jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.3742878-05:00","@version":"1","level":"INFO","message":"Registrando AuthInterceptor","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.3742878-05:00","@version":"1","level":"INFO","message":"AuthInterceptor registrado correctamente","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.3742878-05:00","@version":"1","level":"INFO","message":"Rutas protegidas: /api/**, /payment/** (excepto callbacks)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.5264119-05:00","@version":"1","level":"DEBUG","message":"Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.6896417-05:00","@version":"1","level":"INFO","message":"Started ZugarezBackApplicationTests in 1.415 seconds (process running for 20.242)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.8831485-05:00","@version":"1","level":"DEBUG","message":"select p1_0.id,p1_0.brand,p1_0.description,p1_0.name,p1_0.price,p1_0.stock_actual,p1_0.stock_minimo,p1_0.supplier_id,p1_0.url_image from products p1_0","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.9803108-05:00","@version":"1","level":"DEBUG","message":"drop table if exists cargo cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.9813207-05:00","@version":"1","level":"DEBUG","message":"drop table if exists contrato cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.9823239-05:00","@version":"1","level":"DEBUG","message":"drop table if exists empleado cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.9833224-05:00","@version":"1","level":"DEBUG","message":"drop table if exists inventario_movimientos cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.9843149-05:00","@version":"1","level":"DEBUG","message":"drop table if exists lotes cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.9853166-05:00","@version":"1","level":"DEBUG","message":"drop table if exists metodo_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.986509-05:00","@version":"1","level":"DEBUG","message":"drop table if exists nomina_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.9875033-05:00","@version":"1","level":"DEBUG","message":"drop table if exists order_items cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.9875033-05:00","@version":"1","level":"DEBUG","message":"drop table if exists orders cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.9885058-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pago_pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.9885058-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.9895052-05:00","@version":"1","level":"DEBUG","message":"drop table if exists products cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.9895052-05:00","@version":"1","level":"DEBUG","message":"drop table if exists supplier cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.9905063-05:00","@version":"1","level":"DEBUG","message":"drop table if exists tipo_movimiento cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.9905063-05:00","@version":"1","level":"DEBUG","message":"drop table if exists user_roles cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.9915052-05:00","@version":"1","level":"DEBUG","message":"drop table if exists users cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:51.9990517-05:00","@version":"1","level":"DEBUG","message":"drop table if exists cargo cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0010344-05:00","@version":"1","level":"DEBUG","message":"drop table if exists contrato cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.002035-05:00","@version":"1","level":"DEBUG","message":"drop table if exists empleado cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0030405-05:00","@version":"1","level":"DEBUG","message":"drop table if exists inventario_movimientos cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0030405-05:00","@version":"1","level":"DEBUG","message":"drop table if exists lotes cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0040387-05:00","@version":"1","level":"DEBUG","message":"drop table if exists metodo_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0050425-05:00","@version":"1","level":"DEBUG","message":"drop table if exists nomina_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0061792-05:00","@version":"1","level":"DEBUG","message":"drop table if exists order_items cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0081742-05:00","@version":"1","level":"DEBUG","message":"drop table if exists orders cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0081742-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pago_pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0091748-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0101765-05:00","@version":"1","level":"DEBUG","message":"drop table if exists products cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0111769-05:00","@version":"1","level":"DEBUG","message":"drop table if exists supplier cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0121728-05:00","@version":"1","level":"DEBUG","message":"drop table if exists tipo_movimiento cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0131743-05:00","@version":"1","level":"DEBUG","message":"drop table if exists user_roles cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0131743-05:00","@version":"1","level":"DEBUG","message":"drop table if exists users cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.01772-05:00","@version":"1","level":"DEBUG","message":"drop table if exists cargo cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0187129-05:00","@version":"1","level":"DEBUG","message":"drop table if exists contrato cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0187129-05:00","@version":"1","level":"DEBUG","message":"drop table if exists empleado cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0187129-05:00","@version":"1","level":"DEBUG","message":"drop table if exists inventario_movimientos cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0187129-05:00","@version":"1","level":"DEBUG","message":"drop table if exists lotes cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0187129-05:00","@version":"1","level":"DEBUG","message":"drop table if exists metodo_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0187129-05:00","@version":"1","level":"DEBUG","message":"drop table if exists nomina_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0187129-05:00","@version":"1","level":"DEBUG","message":"drop table if exists order_items cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0187129-05:00","@version":"1","level":"DEBUG","message":"drop table if exists orders cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0197172-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pago_pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0197172-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0197172-05:00","@version":"1","level":"DEBUG","message":"drop table if exists products cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0197172-05:00","@version":"1","level":"DEBUG","message":"drop table if exists supplier cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0197172-05:00","@version":"1","level":"DEBUG","message":"drop table if exists tipo_movimiento cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0197172-05:00","@version":"1","level":"DEBUG","message":"drop table if exists user_roles cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:10:52.0197172-05:00","@version":"1","level":"DEBUG","message":"drop table if exists users cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:24.915135-05:00","@version":"1","level":"INFO","message":"Starting ProductControllerTest using Java 23.0.2 with PID 5884 (started by Luich in C:\\Users\\Luich\\Desktop\\Universidad 2025-2\\Software III\\Zugarez\\zugarez-BACK)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:24.9272066-05:00","@version":"1","level":"DEBUG","message":"Running with Spring Boot v3.5.4, Spring v6.2.9","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:24.9282066-05:00","@version":"1","level":"INFO","message":"No active profile set, falling back to 1 default profile: \"default\"","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.3789613-05:00","@version":"1","level":"DEBUG","message":"drop table if exists cargo cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.3905244-05:00","@version":"1","level":"DEBUG","message":"drop table if exists contrato cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.391526-05:00","@version":"1","level":"DEBUG","message":"drop table if exists empleado cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.391526-05:00","@version":"1","level":"DEBUG","message":"drop table if exists inventario_movimientos cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.391526-05:00","@version":"1","level":"DEBUG","message":"drop table if exists lotes cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.3925239-05:00","@version":"1","level":"DEBUG","message":"drop table if exists metodo_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.3925239-05:00","@version":"1","level":"DEBUG","message":"drop table if exists nomina_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.3940356-05:00","@version":"1","level":"DEBUG","message":"drop table if exists order_items cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.3940356-05:00","@version":"1","level":"DEBUG","message":"drop table if exists orders cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.3940356-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pago_pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.3940356-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.3950443-05:00","@version":"1","level":"DEBUG","message":"drop table if exists products cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.3950443-05:00","@version":"1","level":"DEBUG","message":"drop table if exists supplier cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.3950443-05:00","@version":"1","level":"DEBUG","message":"drop table if exists tipo_movimiento cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.3960472-05:00","@version":"1","level":"DEBUG","message":"drop table if exists user_roles cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.3960472-05:00","@version":"1","level":"DEBUG","message":"drop table if exists users cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.4030452-05:00","@version":"1","level":"DEBUG","message":"create table cargo (id_cargo integer generated by default as identity, nombre_cargo varchar(255), primary key (id_cargo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.4147946-05:00","@version":"1","level":"DEBUG","message":"create table contrato (id_contrato integer generated by default as identity, id_empleado integer, salario_base float(53), fecha_fin timestamp(6), fecha_inicio timestamp(6), primary key (id_contrato))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.4187959-05:00","@version":"1","level":"DEBUG","message":"create table empleado (id_cargo integer, id_empleado integer generated by default as identity, apellido varchar(255), cedula varchar(255), email varchar(255), nombre varchar(255), primary key (id_empleado))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.4197989-05:00","@version":"1","level":"DEBUG","message":"create table inventario_movimientos (cantidad integer, id_lote integer, id_movimiento integer generated by default as identity, id_tipo_movimiento integer, fecha_movimiento timestamp(6), motivo varchar(255), primary key (id_movimiento))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.4217945-05:00","@version":"1","level":"DEBUG","message":"create table lotes (available_quantity integer not null, batch_price float(53) not null, created_at date, expiration_date date not null, id integer generated by default as identity, initial_quantity integer not null, product_id integer not null, unit_price float(53) not null, primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.4227981-05:00","@version":"1","level":"DEBUG","message":"create table metodo_pago (id_metodo integer generated by default as identity, concepto varchar(255), primary key (id_metodo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.4227981-05:00","@version":"1","level":"DEBUG","message":"create table nomina_pago (adiciones float(53), deducciones float(53), id_contrato integer, id_pago integer generated by default as identity, neto float(53), salario_bruto float(53), fecha_pago timestamp(6), primary key (id_pago))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.4253176-05:00","@version":"1","level":"DEBUG","message":"create table order_items (id integer generated by default as identity, order_id integer not null, price numeric(10,2) not null, product_id integer not null, quantity integer not null, subtotal numeric(10,2) not null, primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.4273195-05:00","@version":"1","level":"DEBUG","message":"create table orders (id integer generated by default as identity, subtotal numeric(10,2) not null, tax numeric(10,2) not null, total numeric(10,2) not null, user_id integer not null, created_at timestamp(6) not null, updated_at timestamp(6), mercadopago_payment_id varchar(100), mercadopago_preference_id varchar(100), status enum ('APPROVED','CANCELLED','FAILED','PENDING','REFUNDED','REJECTED') not null, primary key (id), check (status IN ('PENDING', 'APPROVED', 'REJECTED', 'FAILED', 'CANCELLED', 'REFUNDED')))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.4420855-05:00","@version":"1","level":"DEBUG","message":"create table pago_pedido (id_metodo_pago integer, id_pago integer generated by default as identity, id_pedido integer, monto float(53), primary key (id_pago))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.4440956-05:00","@version":"1","level":"DEBUG","message":"create table pedido (id_cliente integer, id_pedido integer generated by default as identity, total_pedido float(53), fecha_pedido timestamp(6), id_estado_pedido varchar(255), primary key (id_pedido))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.4440956-05:00","@version":"1","level":"DEBUG","message":"create table products (id integer generated by default as identity, price float(53) not null, stock_actual integer not null, stock_minimo integer not null, supplier_id integer, brand varchar(255), description TEXT, name varchar(255) not null, url_image varchar(255), primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.4466017-05:00","@version":"1","level":"DEBUG","message":"create table supplier (id_supplier integer generated by default as identity, address varchar(255), email varchar(255), name varchar(255), primary key (id_supplier))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.4476023-05:00","@version":"1","level":"DEBUG","message":"create table tipo_movimiento (id_tipo integer generated by default as identity, concepto varchar(255), primary key (id_tipo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.4496066-05:00","@version":"1","level":"DEBUG","message":"create table user_roles (user_id integer not null, roles enum ('ROLE_ADMIN','ROLE_USER'))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.4505969-05:00","@version":"1","level":"DEBUG","message":"create table users (id integer generated by default as identity, verified boolean, deactivated_at timestamp(6), login_code_expiry timestamp(6), deactivation_reason varchar(500), email varchar(255), login_code varchar(255), password varchar(255), username varchar(255), verification_token varchar(255), primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.4525923-05:00","@version":"1","level":"DEBUG","message":"alter table if exists lotes add constraint FK508nf4uljuunqx6supqd81mlf foreign key (product_id) references products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.4631172-05:00","@version":"1","level":"DEBUG","message":"alter table if exists order_items add constraint FKbioxgbv59vetrxe0ejfubep1w foreign key (order_id) references orders","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.464118-05:00","@version":"1","level":"DEBUG","message":"alter table if exists order_items add constraint FKocimc7dtr037rh4ls4l95nlfi foreign key (product_id) references products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.4665791-05:00","@version":"1","level":"DEBUG","message":"alter table if exists orders add constraint FK32ql8ubntj5uh44ph9659tiih foreign key (user_id) references users","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:32.469098-05:00","@version":"1","level":"DEBUG","message":"alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:33.9972917-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.update(int,com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.0554678-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.update(int,com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.1076518-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.delete(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.10865-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.delete(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.1096528-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.save(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.1096528-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.save(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.1106565-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getAll()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.1106565-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getAll()]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.1106565-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getOne(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.1116506-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getOne(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.1116506-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.saveAndReturn(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.1116506-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.saveAndReturn(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.1126529-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.debugSql()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.1126529-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.debugSql()]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.7094192-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getAvailableLotes()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.7104235-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getAvailableLotes()]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.7114268-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getAllLotes()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.7124288-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getAllLotes()]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.7124288-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLotesByProduct(int)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.7124288-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLotesByProduct(int)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.7124288-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLoteById(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.7124288-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLoteById(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.7139466-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLotesProximosAVencer(int)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.7139466-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLotesProximosAVencer(int)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.7149581-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getStockByProduct(int)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.7159627-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getStockByProduct(int)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.7169655-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.reduceStock(int,int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.7169655-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.reduceStock(int,int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.7189581-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.createLote(com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.7189581-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.createLote(com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.7199597-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.deleteLote(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.7199597-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.deleteLote(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.7209606-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.updateLote(int,com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.7209606-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.updateLote(int,com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.7209606-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.createLoteAndReturn(com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.7219588-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.createLoteAndReturn(com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.8014138-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.getOrder(java.lang.Integer,jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.8024093-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.payment.controller.PaymentController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.getOrder(java.lang.Integer,jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.8039295-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.checkPaymentStatus(java.lang.Integer,jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.8049394-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.payment.controller.PaymentController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.checkPaymentStatus(java.lang.Integer,jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.8059437-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.getMyOrders(jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.8059437-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.payment.controller.PaymentController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.getMyOrders(jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.8059437-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.checkout(com.zugarez.zugarez_BACK.payment.dto.CheckoutRequest,jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.8059437-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.payment.controller.PaymentController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.checkout(com.zugarez.zugarez_BACK.payment.dto.CheckoutRequest,jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.901247-05:00","@version":"1","level":"INFO","message":"Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.9142843-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.security.controller.UserController.getDeactivatedUsers()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.9142843-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.security.controller.UserController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.security.controller.UserController.getDeactivatedUsers()]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.9183228-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.security.controller.UserController.reactivateUser(int,jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:34.9203238-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.security.controller.UserController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.security.controller.UserController.reactivateUser(int,jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:35.2631548-05:00","@version":"1","level":"INFO","message":"Registrando AuthInterceptor","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:35.2641539-05:00","@version":"1","level":"INFO","message":"AuthInterceptor registrado correctamente","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:35.2641539-05:00","@version":"1","level":"INFO","message":"Rutas protegidas: /api/**, /payment/** (excepto callbacks)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:36.2680312-05:00","@version":"1","level":"DEBUG","message":"Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:36.9125684-05:00","@version":"1","level":"DEBUG","message":"Filter 'jwtFilter' configured for use","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.0041626-05:00","@version":"1","level":"INFO","message":"Started ProductControllerTest in 13.255 seconds (process running for 16.074)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.3306226-05:00","@version":"1","level":"DEBUG","message":"Securing DELETE /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.3558505-05:00","@version":"1","level":"DEBUG","message":"Secured DELETE /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.3984611-05:00","@version":"1","level":"DEBUG","message":"Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.delete(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.5448749-05:00","@version":"1","level":"DEBUG","message":"Securing DELETE /products/999","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.5458831-05:00","@version":"1","level":"DEBUG","message":"Secured DELETE /products/999","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.547884-05:00","@version":"1","level":"DEBUG","message":"Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.delete(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.573031-05:00","@version":"1","level":"DEBUG","message":"Securing GET /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.5745399-05:00","@version":"1","level":"DEBUG","message":"Set SecurityContextHolder to anonymous SecurityContext","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.5765482-05:00","@version":"1","level":"ERROR","message":"Token no encontrado o inválido","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.597652-05:00","@version":"1","level":"DEBUG","message":"Securing GET /products/999","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.5986551-05:00","@version":"1","level":"DEBUG","message":"Secured GET /products/999","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.6026548-05:00","@version":"1","level":"DEBUG","message":"Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getOne(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.6330289-05:00","@version":"1","level":"DEBUG","message":"Securing POST /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.6351496-05:00","@version":"1","level":"DEBUG","message":"Secured POST /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.7290288-05:00","@version":"1","level":"DEBUG","message":"Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.save(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.7902526-05:00","@version":"1","level":"DEBUG","message":"Securing POST /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.7912539-05:00","@version":"1","level":"DEBUG","message":"Secured POST /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.8128809-05:00","@version":"1","level":"DEBUG","message":"Securing PUT /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.8143879-05:00","@version":"1","level":"DEBUG","message":"Secured PUT /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.81941-05:00","@version":"1","level":"DEBUG","message":"Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.update(int,com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.829529-05:00","@version":"1","level":"DEBUG","message":"Securing PUT /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.8305346-05:00","@version":"1","level":"DEBUG","message":"Secured PUT /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.8350477-05:00","@version":"1","level":"DEBUG","message":"Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.update(int,com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.8445521-05:00","@version":"1","level":"DEBUG","message":"Securing GET /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.8455533-05:00","@version":"1","level":"DEBUG","message":"Secured GET /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.8465587-05:00","@version":"1","level":"DEBUG","message":"Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getAll(); target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.8672165-05:00","@version":"1","level":"DEBUG","message":"Securing DELETE /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.8682172-05:00","@version":"1","level":"DEBUG","message":"Secured DELETE /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.8697252-05:00","@version":"1","level":"DEBUG","message":"Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.delete(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.8792619-05:00","@version":"1","level":"DEBUG","message":"Securing POST /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.8802674-05:00","@version":"1","level":"DEBUG","message":"Secured POST /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.8832626-05:00","@version":"1","level":"DEBUG","message":"Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.save(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.8923415-05:00","@version":"1","level":"DEBUG","message":"Securing GET /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.8933363-05:00","@version":"1","level":"DEBUG","message":"Secured GET /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.8943361-05:00","@version":"1","level":"DEBUG","message":"Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getOne(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.9060432-05:00","@version":"1","level":"DEBUG","message":"Securing POST /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.9080538-05:00","@version":"1","level":"DEBUG","message":"Secured POST /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:37.910058-05:00","@version":"1","level":"DEBUG","message":"Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.save(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.1933777-05:00","@version":"1","level":"INFO","message":"Starting ProductRepositoryTest using Java 23.0.2 with PID 5884 (started by Luich in C:\\Users\\Luich\\Desktop\\Universidad 2025-2\\Software III\\Zugarez\\zugarez-BACK)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.1943802-05:00","@version":"1","level":"DEBUG","message":"Running with Spring Boot v3.5.4, Spring v6.2.9","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.1943802-05:00","@version":"1","level":"INFO","message":"No active profile set, falling back to 1 default profile: \"default\"","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6628493-05:00","@version":"1","level":"DEBUG","message":"drop table if exists cargo cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6643587-05:00","@version":"1","level":"DEBUG","message":"drop table if exists contrato cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6643587-05:00","@version":"1","level":"DEBUG","message":"drop table if exists empleado cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6653706-05:00","@version":"1","level":"DEBUG","message":"drop table if exists inventario_movimientos cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6663706-05:00","@version":"1","level":"DEBUG","message":"drop table if exists lotes cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6663706-05:00","@version":"1","level":"DEBUG","message":"drop table if exists metodo_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6673865-05:00","@version":"1","level":"DEBUG","message":"drop table if exists nomina_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6673865-05:00","@version":"1","level":"DEBUG","message":"drop table if exists order_items cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6673865-05:00","@version":"1","level":"DEBUG","message":"drop table if exists orders cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6673865-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pago_pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6673865-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6683805-05:00","@version":"1","level":"DEBUG","message":"drop table if exists products cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6683805-05:00","@version":"1","level":"DEBUG","message":"drop table if exists supplier cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6693821-05:00","@version":"1","level":"DEBUG","message":"drop table if exists tipo_movimiento cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6693821-05:00","@version":"1","level":"DEBUG","message":"drop table if exists user_roles cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6693821-05:00","@version":"1","level":"DEBUG","message":"drop table if exists users cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6698926-05:00","@version":"1","level":"DEBUG","message":"create table cargo (id_cargo integer generated by default as identity, nombre_cargo varchar(255), primary key (id_cargo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6718997-05:00","@version":"1","level":"DEBUG","message":"create table contrato (id_contrato integer generated by default as identity, id_empleado integer, salario_base float(53), fecha_fin timestamp(6), fecha_inicio timestamp(6), primary key (id_contrato))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6728987-05:00","@version":"1","level":"DEBUG","message":"create table empleado (id_cargo integer, id_empleado integer generated by default as identity, apellido varchar(255), cedula varchar(255), email varchar(255), nombre varchar(255), primary key (id_empleado))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6754196-05:00","@version":"1","level":"DEBUG","message":"create table inventario_movimientos (cantidad integer, id_lote integer, id_movimiento integer generated by default as identity, id_tipo_movimiento integer, fecha_movimiento timestamp(6), motivo varchar(255), primary key (id_movimiento))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6764191-05:00","@version":"1","level":"DEBUG","message":"create table lotes (available_quantity integer not null, batch_price float(53) not null, created_at date, expiration_date date not null, id integer generated by default as identity, initial_quantity integer not null, product_id integer not null, unit_price float(53) not null, primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6774159-05:00","@version":"1","level":"DEBUG","message":"create table metodo_pago (id_metodo integer generated by default as identity, concepto varchar(255), primary key (id_metodo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6784161-05:00","@version":"1","level":"DEBUG","message":"create table nomina_pago (adiciones float(53), deducciones float(53), id_contrato integer, id_pago integer generated by default as identity, neto float(53), salario_bruto float(53), fecha_pago timestamp(6), primary key (id_pago))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6794156-05:00","@version":"1","level":"DEBUG","message":"create table order_items (id integer generated by default as identity, order_id integer not null, price numeric(10,2) not null, product_id integer not null, quantity integer not null, subtotal numeric(10,2) not null, primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.68042-05:00","@version":"1","level":"DEBUG","message":"create table orders (id integer generated by default as identity, subtotal numeric(10,2) not null, tax numeric(10,2) not null, total numeric(10,2) not null, user_id integer not null, created_at timestamp(6) not null, updated_at timestamp(6), mercadopago_payment_id varchar(100), mercadopago_preference_id varchar(100), status enum ('APPROVED','CANCELLED','FAILED','PENDING','REFUNDED','REJECTED') not null, primary key (id), check (status IN ('PENDING', 'APPROVED', 'REJECTED', 'FAILED', 'CANCELLED', 'REFUNDED')))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6834169-05:00","@version":"1","level":"DEBUG","message":"create table pago_pedido (id_metodo_pago integer, id_pago integer generated by default as identity, id_pedido integer, monto float(53), primary key (id_pago))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6844196-05:00","@version":"1","level":"DEBUG","message":"create table pedido (id_cliente integer, id_pedido integer generated by default as identity, total_pedido float(53), fecha_pedido timestamp(6), id_estado_pedido varchar(255), primary key (id_pedido))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6849256-05:00","@version":"1","level":"DEBUG","message":"create table products (id integer generated by default as identity, price float(53) not null, stock_actual integer not null, stock_minimo integer not null, supplier_id integer, brand varchar(255), description TEXT, name varchar(255) not null, url_image varchar(255), primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6859292-05:00","@version":"1","level":"DEBUG","message":"create table supplier (id_supplier integer generated by default as identity, address varchar(255), email varchar(255), name varchar(255), primary key (id_supplier))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6869353-05:00","@version":"1","level":"DEBUG","message":"create table tipo_movimiento (id_tipo integer generated by default as identity, concepto varchar(255), primary key (id_tipo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6879268-05:00","@version":"1","level":"DEBUG","message":"create table user_roles (user_id integer not null, roles enum ('ROLE_ADMIN','ROLE_USER'))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6899296-05:00","@version":"1","level":"DEBUG","message":"create table users (id integer generated by default as identity, verified boolean, deactivated_at timestamp(6), login_code_expiry timestamp(6), deactivation_reason varchar(500), email varchar(255), login_code varchar(255), password varchar(255), username varchar(255), verification_token varchar(255), primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6909279-05:00","@version":"1","level":"DEBUG","message":"alter table if exists lotes add constraint FK508nf4uljuunqx6supqd81mlf foreign key (product_id) references products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6929323-05:00","@version":"1","level":"DEBUG","message":"alter table if exists order_items add constraint FKbioxgbv59vetrxe0ejfubep1w foreign key (order_id) references orders","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6944375-05:00","@version":"1","level":"DEBUG","message":"alter table if exists order_items add constraint FKocimc7dtr037rh4ls4l95nlfi foreign key (product_id) references products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6954481-05:00","@version":"1","level":"DEBUG","message":"alter table if exists orders add constraint FK32ql8ubntj5uh44ph9659tiih foreign key (user_id) references users","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.6964456-05:00","@version":"1","level":"DEBUG","message":"alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.8075802-05:00","@version":"1","level":"INFO","message":"Started ProductRepositoryTest in 0.655 seconds (process running for 17.878)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:38.9228526-05:00","@version":"1","level":"DEBUG","message":"select p1_0.id,p1_0.brand,p1_0.description,p1_0.name,p1_0.price,p1_0.stock_actual,p1_0.stock_minimo,p1_0.supplier_id,p1_0.url_image from products p1_0 where p1_0.name=?","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:39.0051808-05:00","@version":"1","level":"DEBUG","message":"insert into products (brand,description,name,price,stock_actual,stock_minimo,supplier_id,url_image,id) values (?,?,?,?,?,?,?,?,default)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:39.0511636-05:00","@version":"1","level":"DEBUG","message":"update products set brand=?,description=?,name=?,price=?,stock_actual=?,stock_minimo=?,supplier_id=?,url_image=? where id=?","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:39.0718009-05:00","@version":"1","level":"DEBUG","message":"select p1_0.id,p1_0.brand,p1_0.description,p1_0.name,p1_0.price,p1_0.stock_actual,p1_0.stock_minimo,p1_0.supplier_id,p1_0.url_image from products p1_0 where p1_0.id=?","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:39.0813467-05:00","@version":"1","level":"DEBUG","message":"select p1_0.id from products p1_0 where p1_0.name=? fetch first ? rows only","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:39.0888808-05:00","@version":"1","level":"DEBUG","message":"insert into products (brand,description,name,price,stock_actual,stock_minimo,supplier_id,url_image,id) values (?,?,?,?,?,?,?,?,default)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:39.0918773-05:00","@version":"1","level":"DEBUG","message":"select p1_0.id,p1_0.brand,p1_0.description,p1_0.name,p1_0.price,p1_0.stock_actual,p1_0.stock_minimo,p1_0.supplier_id,p1_0.url_image from products p1_0 where p1_0.name=?","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:39.0994111-05:00","@version":"1","level":"DEBUG","message":"insert into products (brand,description,name,price,stock_actual,stock_minimo,supplier_id,url_image,id) values (?,?,?,?,?,?,?,?,default)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:39.1065449-05:00","@version":"1","level":"DEBUG","message":"insert into products (brand,description,name,price,stock_actual,stock_minimo,supplier_id,url_image,id) values (?,?,?,?,?,?,?,?,default)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:39.1095408-05:00","@version":"1","level":"DEBUG","message":"select p1_0.id from products p1_0 where p1_0.name=? fetch first ? rows only","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:39.1170683-05:00","@version":"1","level":"DEBUG","message":"insert into products (brand,description,name,price,stock_actual,stock_minimo,supplier_id,url_image,id) values (?,?,?,?,?,?,?,?,default)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:39.1190677-05:00","@version":"1","level":"DEBUG","message":"insert into products (brand,description,name,price,stock_actual,stock_minimo,supplier_id,url_image,id) values (?,?,?,?,?,?,?,?,default)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:39.1255713-05:00","@version":"1","level":"DEBUG","message":"select p1_0.id,p1_0.brand,p1_0.description,p1_0.name,p1_0.price,p1_0.stock_actual,p1_0.stock_minimo,p1_0.supplier_id,p1_0.url_image from products p1_0","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:39.1325732-05:00","@version":"1","level":"DEBUG","message":"insert into products (brand,description,name,price,stock_actual,stock_minimo,supplier_id,url_image,id) values (?,?,?,?,?,?,?,?,default)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:39.1391005-05:00","@version":"1","level":"DEBUG","message":"delete from products where id=?","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:39.1430915-05:00","@version":"1","level":"DEBUG","message":"select p1_0.id,p1_0.brand,p1_0.description,p1_0.name,p1_0.price,p1_0.stock_actual,p1_0.stock_minimo,p1_0.supplier_id,p1_0.url_image from products p1_0 where p1_0.id=?","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:39.1506118-05:00","@version":"1","level":"DEBUG","message":"insert into products (brand,description,name,price,stock_actual,stock_minimo,supplier_id,url_image,id) values (?,?,?,?,?,?,?,?,default)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:40.2401947-05:00","@version":"1","level":"INFO","message":"Starting ZugarezBackApplicationTests using Java 23.0.2 with PID 5884 (started by Luich in C:\\Users\\Luich\\Desktop\\Universidad 2025-2\\Software III\\Zugarez\\zugarez-BACK)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:40.2401947-05:00","@version":"1","level":"DEBUG","message":"Running with Spring Boot v3.5.4, Spring v6.2.9","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:40.2411864-05:00","@version":"1","level":"INFO","message":"No active profile set, falling back to 1 default profile: \"default\"","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.136889-05:00","@version":"1","level":"DEBUG","message":"drop table if exists cargo cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1388919-05:00","@version":"1","level":"DEBUG","message":"drop table if exists contrato cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1408867-05:00","@version":"1","level":"DEBUG","message":"drop table if exists empleado cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1408867-05:00","@version":"1","level":"DEBUG","message":"drop table if exists inventario_movimientos cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1418886-05:00","@version":"1","level":"DEBUG","message":"drop table if exists lotes cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1428885-05:00","@version":"1","level":"DEBUG","message":"drop table if exists metodo_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1443985-05:00","@version":"1","level":"DEBUG","message":"drop table if exists nomina_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1443985-05:00","@version":"1","level":"DEBUG","message":"drop table if exists order_items cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1454083-05:00","@version":"1","level":"DEBUG","message":"drop table if exists orders cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1464101-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pago_pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1514245-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1524202-05:00","@version":"1","level":"DEBUG","message":"drop table if exists products cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1524202-05:00","@version":"1","level":"DEBUG","message":"drop table if exists supplier cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1534175-05:00","@version":"1","level":"DEBUG","message":"drop table if exists tipo_movimiento cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1544244-05:00","@version":"1","level":"DEBUG","message":"drop table if exists user_roles cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1549367-05:00","@version":"1","level":"DEBUG","message":"drop table if exists users cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1559494-05:00","@version":"1","level":"DEBUG","message":"create table cargo (id_cargo integer generated by default as identity, nombre_cargo varchar(255), primary key (id_cargo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1569592-05:00","@version":"1","level":"DEBUG","message":"create table contrato (id_contrato integer generated by default as identity, id_empleado integer, salario_base float(53), fecha_fin timestamp(6), fecha_inicio timestamp(6), primary key (id_contrato))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1579635-05:00","@version":"1","level":"DEBUG","message":"create table empleado (id_cargo integer, id_empleado integer generated by default as identity, apellido varchar(255), cedula varchar(255), email varchar(255), nombre varchar(255), primary key (id_empleado))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1589627-05:00","@version":"1","level":"DEBUG","message":"create table inventario_movimientos (cantidad integer, id_lote integer, id_movimiento integer generated by default as identity, id_tipo_movimiento integer, fecha_movimiento timestamp(6), motivo varchar(255), primary key (id_movimiento))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1609623-05:00","@version":"1","level":"DEBUG","message":"create table lotes (available_quantity integer not null, batch_price float(53) not null, created_at date, expiration_date date not null, id integer generated by default as identity, initial_quantity integer not null, product_id integer not null, unit_price float(53) not null, primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1619641-05:00","@version":"1","level":"DEBUG","message":"create table metodo_pago (id_metodo integer generated by default as identity, concepto varchar(255), primary key (id_metodo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1629564-05:00","@version":"1","level":"DEBUG","message":"create table nomina_pago (adiciones float(53), deducciones float(53), id_contrato integer, id_pago integer generated by default as identity, neto float(53), salario_bruto float(53), fecha_pago timestamp(6), primary key (id_pago))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1654815-05:00","@version":"1","level":"DEBUG","message":"create table order_items (id integer generated by default as identity, order_id integer not null, price numeric(10,2) not null, product_id integer not null, quantity integer not null, subtotal numeric(10,2) not null, primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1675056-05:00","@version":"1","level":"DEBUG","message":"create table orders (id integer generated by default as identity, subtotal numeric(10,2) not null, tax numeric(10,2) not null, total numeric(10,2) not null, user_id integer not null, created_at timestamp(6) not null, updated_at timestamp(6), mercadopago_payment_id varchar(100), mercadopago_preference_id varchar(100), status enum ('APPROVED','CANCELLED','FAILED','PENDING','REFUNDED','REJECTED') not null, primary key (id), check (status IN ('PENDING', 'APPROVED', 'REJECTED', 'FAILED', 'CANCELLED', 'REFUNDED')))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.169496-05:00","@version":"1","level":"DEBUG","message":"create table pago_pedido (id_metodo_pago integer, id_pago integer generated by default as identity, id_pedido integer, monto float(53), primary key (id_pago))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1710165-05:00","@version":"1","level":"DEBUG","message":"create table pedido (id_cliente integer, id_pedido integer generated by default as identity, total_pedido float(53), fecha_pedido timestamp(6), id_estado_pedido varchar(255), primary key (id_pedido))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1720303-05:00","@version":"1","level":"DEBUG","message":"create table products (id integer generated by default as identity, price float(53) not null, stock_actual integer not null, stock_minimo integer not null, supplier_id integer, brand varchar(255), description TEXT, name varchar(255) not null, url_image varchar(255), primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1730233-05:00","@version":"1","level":"DEBUG","message":"create table supplier (id_supplier integer generated by default as identity, address varchar(255), email varchar(255), name varchar(255), primary key (id_supplier))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1745263-05:00","@version":"1","level":"DEBUG","message":"create table tipo_movimiento (id_tipo integer generated by default as identity, concepto varchar(255), primary key (id_tipo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1755315-05:00","@version":"1","level":"DEBUG","message":"create table user_roles (user_id integer not null, roles enum ('ROLE_ADMIN','ROLE_USER'))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1765345-05:00","@version":"1","level":"DEBUG","message":"create table users (id integer generated by default as identity, verified boolean, deactivated_at timestamp(6), login_code_expiry timestamp(6), deactivation_reason varchar(500), email varchar(255), login_code varchar(255), password varchar(255), username varchar(255), verification_token varchar(255), primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1775303-05:00","@version":"1","level":"DEBUG","message":"alter table if exists lotes add constraint FK508nf4uljuunqx6supqd81mlf foreign key (product_id) references products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.17853-05:00","@version":"1","level":"DEBUG","message":"alter table if exists order_items add constraint FKbioxgbv59vetrxe0ejfubep1w foreign key (order_id) references orders","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1805309-05:00","@version":"1","level":"DEBUG","message":"alter table if exists order_items add constraint FKocimc7dtr037rh4ls4l95nlfi foreign key (product_id) references products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1835423-05:00","@version":"1","level":"DEBUG","message":"alter table if exists orders add constraint FK32ql8ubntj5uh44ph9659tiih foreign key (user_id) references users","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.1860685-05:00","@version":"1","level":"DEBUG","message":"alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2465182-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.update(int,com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2465182-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.update(int,com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2515115-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.delete(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2515115-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.delete(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2525143-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.save(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2525143-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.save(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2525143-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getAll()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2525143-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getAll()]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2525143-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getOne(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2525143-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getOne(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2525143-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.saveAndReturn(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2535323-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.saveAndReturn(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2535323-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.debugSql()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2535323-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.debugSql()]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2935198-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getAvailableLotes()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2945172-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getAvailableLotes()]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2950231-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getAllLotes()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2960308-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getAllLotes()]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2960308-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLotesByProduct(int)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2960308-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLotesByProduct(int)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2960308-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLoteById(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2960308-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLoteById(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2970345-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLotesProximosAVencer(int)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2970345-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLotesProximosAVencer(int)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2970345-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getStockByProduct(int)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2980379-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getStockByProduct(int)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2980379-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.reduceStock(int,int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2980379-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.reduceStock(int,int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2990359-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.createLote(com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2990359-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.createLote(com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2990359-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.deleteLote(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.2990359-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.deleteLote(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.3000381-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.updateLote(int,com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.3000381-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.updateLote(int,com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.3000381-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.createLoteAndReturn(com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.3000381-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.createLoteAndReturn(com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.3422194-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.getOrder(java.lang.Integer,jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.3422194-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.payment.controller.PaymentController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.getOrder(java.lang.Integer,jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.3432208-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.checkPaymentStatus(java.lang.Integer,jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.3442265-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.payment.controller.PaymentController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.checkPaymentStatus(java.lang.Integer,jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.3442265-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.getMyOrders(jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.3453577-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.payment.controller.PaymentController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.getMyOrders(jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.3453577-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.checkout(com.zugarez.zugarez_BACK.payment.dto.CheckoutRequest,jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.3453577-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.payment.controller.PaymentController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.checkout(com.zugarez.zugarez_BACK.payment.dto.CheckoutRequest,jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.3725976-05:00","@version":"1","level":"INFO","message":"Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.3751029-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.security.controller.UserController.getDeactivatedUsers()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.3761111-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.security.controller.UserController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.security.controller.UserController.getDeactivatedUsers()]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.377117-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.security.controller.UserController.reactivateUser(int,jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.3781186-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.security.controller.UserController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.security.controller.UserController.reactivateUser(int,jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.4393364-05:00","@version":"1","level":"INFO","message":"Registrando AuthInterceptor","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.4393364-05:00","@version":"1","level":"INFO","message":"AuthInterceptor registrado correctamente","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.4393364-05:00","@version":"1","level":"INFO","message":"Rutas protegidas: /api/**, /payment/** (excepto callbacks)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.5922478-05:00","@version":"1","level":"DEBUG","message":"Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.7387124-05:00","@version":"1","level":"INFO","message":"Started ZugarezBackApplicationTests in 1.53 seconds (process running for 20.809)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:41.9355308-05:00","@version":"1","level":"DEBUG","message":"select p1_0.id,p1_0.brand,p1_0.description,p1_0.name,p1_0.price,p1_0.stock_actual,p1_0.stock_minimo,p1_0.supplier_id,p1_0.url_image from products p1_0","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0222973-05:00","@version":"1","level":"DEBUG","message":"drop table if exists cargo cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0232992-05:00","@version":"1","level":"DEBUG","message":"drop table if exists contrato cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0242982-05:00","@version":"1","level":"DEBUG","message":"drop table if exists empleado cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0254012-05:00","@version":"1","level":"DEBUG","message":"drop table if exists inventario_movimientos cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0263968-05:00","@version":"1","level":"DEBUG","message":"drop table if exists lotes cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0273978-05:00","@version":"1","level":"DEBUG","message":"drop table if exists metodo_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0273978-05:00","@version":"1","level":"DEBUG","message":"drop table if exists nomina_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0283971-05:00","@version":"1","level":"DEBUG","message":"drop table if exists order_items cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0294082-05:00","@version":"1","level":"DEBUG","message":"drop table if exists orders cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0303953-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pago_pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0314022-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0324058-05:00","@version":"1","level":"DEBUG","message":"drop table if exists products cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0334046-05:00","@version":"1","level":"DEBUG","message":"drop table if exists supplier cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0344041-05:00","@version":"1","level":"DEBUG","message":"drop table if exists tipo_movimiento cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0356549-05:00","@version":"1","level":"DEBUG","message":"drop table if exists user_roles cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0356549-05:00","@version":"1","level":"DEBUG","message":"drop table if exists users cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0441725-05:00","@version":"1","level":"DEBUG","message":"drop table if exists cargo cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0451866-05:00","@version":"1","level":"DEBUG","message":"drop table if exists contrato cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0461868-05:00","@version":"1","level":"DEBUG","message":"drop table if exists empleado cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0461868-05:00","@version":"1","level":"DEBUG","message":"drop table if exists inventario_movimientos cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0471871-05:00","@version":"1","level":"DEBUG","message":"drop table if exists lotes cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0511866-05:00","@version":"1","level":"DEBUG","message":"drop table if exists metodo_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0521979-05:00","@version":"1","level":"DEBUG","message":"drop table if exists nomina_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0531955-05:00","@version":"1","level":"DEBUG","message":"drop table if exists order_items cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0547147-05:00","@version":"1","level":"DEBUG","message":"drop table if exists orders cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0557263-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pago_pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0567237-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0567237-05:00","@version":"1","level":"DEBUG","message":"drop table if exists products cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0577199-05:00","@version":"1","level":"DEBUG","message":"drop table if exists supplier cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0577199-05:00","@version":"1","level":"DEBUG","message":"drop table if exists tipo_movimiento cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.058726-05:00","@version":"1","level":"DEBUG","message":"drop table if exists user_roles cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.058726-05:00","@version":"1","level":"DEBUG","message":"drop table if exists users cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.061728-05:00","@version":"1","level":"DEBUG","message":"drop table if exists cargo cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.061728-05:00","@version":"1","level":"DEBUG","message":"drop table if exists contrato cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.061728-05:00","@version":"1","level":"DEBUG","message":"drop table if exists empleado cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.061728-05:00","@version":"1","level":"DEBUG","message":"drop table if exists inventario_movimientos cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.061728-05:00","@version":"1","level":"DEBUG","message":"drop table if exists lotes cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.061728-05:00","@version":"1","level":"DEBUG","message":"drop table if exists metodo_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0627241-05:00","@version":"1","level":"DEBUG","message":"drop table if exists nomina_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0627241-05:00","@version":"1","level":"DEBUG","message":"drop table if exists order_items cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0627241-05:00","@version":"1","level":"DEBUG","message":"drop table if exists orders cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0627241-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pago_pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0627241-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0627241-05:00","@version":"1","level":"DEBUG","message":"drop table if exists products cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0627241-05:00","@version":"1","level":"DEBUG","message":"drop table if exists supplier cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0627241-05:00","@version":"1","level":"DEBUG","message":"drop table if exists tipo_movimiento cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0627241-05:00","@version":"1","level":"DEBUG","message":"drop table if exists user_roles cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:16:42.0627241-05:00","@version":"1","level":"DEBUG","message":"drop table if exists users cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:01.2619982-05:00","@version":"1","level":"INFO","message":"Starting ProductControllerTest using Java 23.0.2 with PID 3656 (started by Luich in C:\\Users\\Luich\\Desktop\\Universidad 2025-2\\Software III\\Zugarez\\zugarez-BACK)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:01.2690862-05:00","@version":"1","level":"DEBUG","message":"Running with Spring Boot v3.5.4, Spring v6.2.9","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:01.2701122-05:00","@version":"1","level":"INFO","message":"No active profile set, falling back to 1 default profile: \"default\"","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.086032-05:00","@version":"1","level":"DEBUG","message":"drop table if exists cargo cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.0941085-05:00","@version":"1","level":"DEBUG","message":"drop table if exists contrato cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.0950982-05:00","@version":"1","level":"DEBUG","message":"drop table if exists empleado cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.0961038-05:00","@version":"1","level":"DEBUG","message":"drop table if exists inventario_movimientos cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.0961038-05:00","@version":"1","level":"DEBUG","message":"drop table if exists lotes cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.0971145-05:00","@version":"1","level":"DEBUG","message":"drop table if exists metodo_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.0971145-05:00","@version":"1","level":"DEBUG","message":"drop table if exists nomina_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.0971145-05:00","@version":"1","level":"DEBUG","message":"drop table if exists order_items cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.0971145-05:00","@version":"1","level":"DEBUG","message":"drop table if exists orders cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.0971145-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pago_pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.0986356-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.0986356-05:00","@version":"1","level":"DEBUG","message":"drop table if exists products cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.0986356-05:00","@version":"1","level":"DEBUG","message":"drop table if exists supplier cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.0986356-05:00","@version":"1","level":"DEBUG","message":"drop table if exists tipo_movimiento cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.0996472-05:00","@version":"1","level":"DEBUG","message":"drop table if exists user_roles cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.0996472-05:00","@version":"1","level":"DEBUG","message":"drop table if exists users cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.106662-05:00","@version":"1","level":"DEBUG","message":"create table cargo (id_cargo integer generated by default as identity, nombre_cargo varchar(255), primary key (id_cargo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.1207053-05:00","@version":"1","level":"DEBUG","message":"create table contrato (id_contrato integer generated by default as identity, id_empleado integer, salario_base float(53), fecha_fin timestamp(6), fecha_inicio timestamp(6), primary key (id_contrato))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.1217186-05:00","@version":"1","level":"DEBUG","message":"create table empleado (id_cargo integer, id_empleado integer generated by default as identity, apellido varchar(255), cedula varchar(255), email varchar(255), nombre varchar(255), primary key (id_empleado))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.1237057-05:00","@version":"1","level":"DEBUG","message":"create table inventario_movimientos (cantidad integer, id_lote integer, id_movimiento integer generated by default as identity, id_tipo_movimiento integer, fecha_movimiento timestamp(6), motivo varchar(255), primary key (id_movimiento))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.1247066-05:00","@version":"1","level":"DEBUG","message":"create table lotes (available_quantity integer not null, batch_price float(53) not null, created_at date, expiration_date date not null, id integer generated by default as identity, initial_quantity integer not null, product_id integer not null, unit_price float(53) not null, primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.1267084-05:00","@version":"1","level":"DEBUG","message":"create table metodo_pago (id_metodo integer generated by default as identity, concepto varchar(255), primary key (id_metodo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.1277133-05:00","@version":"1","level":"DEBUG","message":"create table nomina_pago (adiciones float(53), deducciones float(53), id_contrato integer, id_pago integer generated by default as identity, neto float(53), salario_bruto float(53), fecha_pago timestamp(6), primary key (id_pago))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.1292223-05:00","@version":"1","level":"DEBUG","message":"create table order_items (id integer generated by default as identity, order_id integer not null, price numeric(10,2) not null, product_id integer not null, quantity integer not null, subtotal numeric(10,2) not null, primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.1327762-05:00","@version":"1","level":"DEBUG","message":"create table orders (id integer generated by default as identity, subtotal numeric(10,2) not null, tax numeric(10,2) not null, total numeric(10,2) not null, user_id integer not null, created_at timestamp(6) not null, updated_at timestamp(6), mercadopago_payment_id varchar(100), mercadopago_preference_id varchar(100), status enum ('APPROVED','CANCELLED','FAILED','PENDING','REFUNDED','REJECTED') not null, primary key (id), check (status IN ('PENDING', 'APPROVED', 'REJECTED', 'FAILED', 'CANCELLED', 'REFUNDED')))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.1488546-05:00","@version":"1","level":"DEBUG","message":"create table pago_pedido (id_metodo_pago integer, id_pago integer generated by default as identity, id_pedido integer, monto float(53), primary key (id_pago))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.1509488-05:00","@version":"1","level":"DEBUG","message":"create table pedido (id_cliente integer, id_pedido integer generated by default as identity, total_pedido float(53), fecha_pedido timestamp(6), id_estado_pedido varchar(255), primary key (id_pedido))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.1529428-05:00","@version":"1","level":"DEBUG","message":"create table products (id integer generated by default as identity, price float(53) not null, stock_actual integer not null, stock_minimo integer not null, supplier_id integer, brand varchar(255), description TEXT, name varchar(255) not null, url_image varchar(255), primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.156462-05:00","@version":"1","level":"DEBUG","message":"create table supplier (id_supplier integer generated by default as identity, address varchar(255), email varchar(255), name varchar(255), primary key (id_supplier))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.1574609-05:00","@version":"1","level":"DEBUG","message":"create table tipo_movimiento (id_tipo integer generated by default as identity, concepto varchar(255), primary key (id_tipo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.1589685-05:00","@version":"1","level":"DEBUG","message":"create table user_roles (user_id integer not null, roles enum ('ROLE_ADMIN','ROLE_USER'))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.1599755-05:00","@version":"1","level":"DEBUG","message":"create table users (id integer generated by default as identity, verified boolean, deactivated_at timestamp(6), login_code_expiry timestamp(6), deactivation_reason varchar(500), email varchar(255), login_code varchar(255), password varchar(255), username varchar(255), verification_token varchar(255), primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.160982-05:00","@version":"1","level":"DEBUG","message":"alter table if exists lotes add constraint FK508nf4uljuunqx6supqd81mlf foreign key (product_id) references products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.1701403-05:00","@version":"1","level":"DEBUG","message":"alter table if exists order_items add constraint FKbioxgbv59vetrxe0ejfubep1w foreign key (order_id) references orders","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.1721534-05:00","@version":"1","level":"DEBUG","message":"alter table if exists order_items add constraint FKocimc7dtr037rh4ls4l95nlfi foreign key (product_id) references products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.1741592-05:00","@version":"1","level":"DEBUG","message":"alter table if exists orders add constraint FK32ql8ubntj5uh44ph9659tiih foreign key (user_id) references users","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:07.1761531-05:00","@version":"1","level":"DEBUG","message":"alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.3920857-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.update(int,com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.4190577-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.update(int,com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.4614832-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.delete(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.4624783-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.delete(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.4624783-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.save(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.4634777-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.save(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.4634777-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getAll()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.4634777-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getAll()]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.4644764-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.debugSql()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.4644764-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.debugSql()]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.4644764-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.saveAndReturn(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.4654779-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.saveAndReturn(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.4654779-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getOne(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.4654779-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getOne(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.8588987-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLotesProximosAVencer(int)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.8599108-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLotesProximosAVencer(int)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.8609166-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getAllLotes()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.8619286-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getAllLotes()]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.8619286-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getAvailableLotes()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.8619286-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getAvailableLotes()]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.8629306-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLotesByProduct(int)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.8629306-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLotesByProduct(int)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.8629306-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLoteById(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.8629306-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLoteById(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.8639311-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.deleteLote(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.8639311-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.deleteLote(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.8639311-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.updateLote(int,com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.8639311-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.updateLote(int,com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.8649279-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.createLote(com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.8649279-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.createLote(com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.8649279-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getStockByProduct(int)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.8649279-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getStockByProduct(int)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.8659297-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.reduceStock(int,int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.8659297-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.reduceStock(int,int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.8659297-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.createLoteAndReturn(com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.8669301-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.createLoteAndReturn(com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.9241614-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.getOrder(java.lang.Integer,jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.9251647-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.payment.controller.PaymentController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.getOrder(java.lang.Integer,jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.9261698-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.checkPaymentStatus(java.lang.Integer,jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.9261698-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.payment.controller.PaymentController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.checkPaymentStatus(java.lang.Integer,jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.9261698-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.checkout(com.zugarez.zugarez_BACK.payment.dto.CheckoutRequest,jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.9271588-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.payment.controller.PaymentController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.checkout(com.zugarez.zugarez_BACK.payment.dto.CheckoutRequest,jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.9271588-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.getMyOrders(jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:08.9271588-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.payment.controller.PaymentController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.getMyOrders(jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:09.0078894-05:00","@version":"1","level":"INFO","message":"Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:09.0181135-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.security.controller.UserController.getDeactivatedUsers()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:09.0191139-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.security.controller.UserController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.security.controller.UserController.getDeactivatedUsers()]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:09.0191139-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.security.controller.UserController.reactivateUser(int,jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:09.0206075-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.security.controller.UserController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.security.controller.UserController.reactivateUser(int,jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:09.2838953-05:00","@version":"1","level":"INFO","message":"Registrando AuthInterceptor","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:09.2858944-05:00","@version":"1","level":"INFO","message":"AuthInterceptor registrado correctamente","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:09.2858944-05:00","@version":"1","level":"INFO","message":"Rutas protegidas: /api/**, /payment/** (excepto callbacks)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:09.9410726-05:00","@version":"1","level":"DEBUG","message":"Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:10.5480112-05:00","@version":"1","level":"DEBUG","message":"Filter 'jwtFilter' configured for use","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:10.6419182-05:00","@version":"1","level":"INFO","message":"Started ProductControllerTest in 10.345 seconds (process running for 12.021)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:10.9676717-05:00","@version":"1","level":"DEBUG","message":"Securing DELETE /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:10.9922955-05:00","@version":"1","level":"DEBUG","message":"Secured DELETE /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.0349395-05:00","@version":"1","level":"DEBUG","message":"Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.delete(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.1491-05:00","@version":"1","level":"DEBUG","message":"Securing DELETE /products/999","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.1501713-05:00","@version":"1","level":"DEBUG","message":"Secured DELETE /products/999","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.1521767-05:00","@version":"1","level":"DEBUG","message":"Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.delete(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.1697311-05:00","@version":"1","level":"DEBUG","message":"Securing GET /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.1717547-05:00","@version":"1","level":"DEBUG","message":"Set SecurityContextHolder to anonymous SecurityContext","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.1737519-05:00","@version":"1","level":"ERROR","message":"Token no encontrado o inválido","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.1887806-05:00","@version":"1","level":"DEBUG","message":"Securing GET /products/999","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.1907939-05:00","@version":"1","level":"DEBUG","message":"Secured GET /products/999","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.1937921-05:00","@version":"1","level":"DEBUG","message":"Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getOne(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.2243242-05:00","@version":"1","level":"DEBUG","message":"Securing POST /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.2253243-05:00","@version":"1","level":"DEBUG","message":"Secured POST /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.3128138-05:00","@version":"1","level":"DEBUG","message":"Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.save(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.3765378-05:00","@version":"1","level":"DEBUG","message":"Securing POST /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.3775432-05:00","@version":"1","level":"DEBUG","message":"Secured POST /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.4081177-05:00","@version":"1","level":"DEBUG","message":"Securing PUT /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.4091157-05:00","@version":"1","level":"DEBUG","message":"Secured PUT /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.4145189-05:00","@version":"1","level":"DEBUG","message":"Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.update(int,com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.4295408-05:00","@version":"1","level":"DEBUG","message":"Securing PUT /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.4315531-05:00","@version":"1","level":"DEBUG","message":"Secured PUT /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.4335498-05:00","@version":"1","level":"DEBUG","message":"Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.update(int,com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.4450701-05:00","@version":"1","level":"DEBUG","message":"Securing GET /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.4470753-05:00","@version":"1","level":"DEBUG","message":"Secured GET /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.4480725-05:00","@version":"1","level":"DEBUG","message":"Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getAll(); target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.4681821-05:00","@version":"1","level":"DEBUG","message":"Securing DELETE /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.4691827-05:00","@version":"1","level":"DEBUG","message":"Secured DELETE /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.4713545-05:00","@version":"1","level":"DEBUG","message":"Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.delete(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.4828839-05:00","@version":"1","level":"DEBUG","message":"Securing POST /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.4838784-05:00","@version":"1","level":"DEBUG","message":"Secured POST /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.4848782-05:00","@version":"1","level":"DEBUG","message":"Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.save(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.4960477-05:00","@version":"1","level":"DEBUG","message":"Securing GET /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.497058-05:00","@version":"1","level":"DEBUG","message":"Secured GET /products/1","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.4980601-05:00","@version":"1","level":"DEBUG","message":"Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getOne(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.5100799-05:00","@version":"1","level":"DEBUG","message":"Securing POST /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.5110886-05:00","@version":"1","level":"DEBUG","message":"Secured POST /products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.5131286-05:00","@version":"1","level":"DEBUG","message":"Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.save(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException; target is of class [com.zugarez.zugarez_BACK.CRUD.controller.ProductController] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.7906483-05:00","@version":"1","level":"INFO","message":"Starting ProductRepositoryTest using Java 23.0.2 with PID 3656 (started by Luich in C:\\Users\\Luich\\Desktop\\Universidad 2025-2\\Software III\\Zugarez\\zugarez-BACK)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.7916686-05:00","@version":"1","level":"DEBUG","message":"Running with Spring Boot v3.5.4, Spring v6.2.9","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:11.7916686-05:00","@version":"1","level":"INFO","message":"No active profile set, falling back to 1 default profile: \"default\"","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.2310766-05:00","@version":"1","level":"DEBUG","message":"drop table if exists cargo cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.232073-05:00","@version":"1","level":"DEBUG","message":"drop table if exists contrato cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.232073-05:00","@version":"1","level":"DEBUG","message":"drop table if exists empleado cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.232073-05:00","@version":"1","level":"DEBUG","message":"drop table if exists inventario_movimientos cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.233216-05:00","@version":"1","level":"DEBUG","message":"drop table if exists lotes cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.233216-05:00","@version":"1","level":"DEBUG","message":"drop table if exists metodo_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.233216-05:00","@version":"1","level":"DEBUG","message":"drop table if exists nomina_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.233216-05:00","@version":"1","level":"DEBUG","message":"drop table if exists order_items cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.233216-05:00","@version":"1","level":"DEBUG","message":"drop table if exists orders cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.233216-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pago_pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.2342134-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.2342134-05:00","@version":"1","level":"DEBUG","message":"drop table if exists products cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.2342134-05:00","@version":"1","level":"DEBUG","message":"drop table if exists supplier cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.2342134-05:00","@version":"1","level":"DEBUG","message":"drop table if exists tipo_movimiento cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.2342134-05:00","@version":"1","level":"DEBUG","message":"drop table if exists user_roles cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.2342134-05:00","@version":"1","level":"DEBUG","message":"drop table if exists users cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.2352138-05:00","@version":"1","level":"DEBUG","message":"create table cargo (id_cargo integer generated by default as identity, nombre_cargo varchar(255), primary key (id_cargo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.2362131-05:00","@version":"1","level":"DEBUG","message":"create table contrato (id_contrato integer generated by default as identity, id_empleado integer, salario_base float(53), fecha_fin timestamp(6), fecha_inicio timestamp(6), primary key (id_contrato))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.2372131-05:00","@version":"1","level":"DEBUG","message":"create table empleado (id_cargo integer, id_empleado integer generated by default as identity, apellido varchar(255), cedula varchar(255), email varchar(255), nombre varchar(255), primary key (id_empleado))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.2382156-05:00","@version":"1","level":"DEBUG","message":"create table inventario_movimientos (cantidad integer, id_lote integer, id_movimiento integer generated by default as identity, id_tipo_movimiento integer, fecha_movimiento timestamp(6), motivo varchar(255), primary key (id_movimiento))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.2392174-05:00","@version":"1","level":"DEBUG","message":"create table lotes (available_quantity integer not null, batch_price float(53) not null, created_at date, expiration_date date not null, id integer generated by default as identity, initial_quantity integer not null, product_id integer not null, unit_price float(53) not null, primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.2412446-05:00","@version":"1","level":"DEBUG","message":"create table metodo_pago (id_metodo integer generated by default as identity, concepto varchar(255), primary key (id_metodo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.242241-05:00","@version":"1","level":"DEBUG","message":"create table nomina_pago (adiciones float(53), deducciones float(53), id_contrato integer, id_pago integer generated by default as identity, neto float(53), salario_bruto float(53), fecha_pago timestamp(6), primary key (id_pago))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.2432365-05:00","@version":"1","level":"DEBUG","message":"create table order_items (id integer generated by default as identity, order_id integer not null, price numeric(10,2) not null, product_id integer not null, quantity integer not null, subtotal numeric(10,2) not null, primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.2452417-05:00","@version":"1","level":"DEBUG","message":"create table orders (id integer generated by default as identity, subtotal numeric(10,2) not null, tax numeric(10,2) not null, total numeric(10,2) not null, user_id integer not null, created_at timestamp(6) not null, updated_at timestamp(6), mercadopago_payment_id varchar(100), mercadopago_preference_id varchar(100), status enum ('APPROVED','CANCELLED','FAILED','PENDING','REFUNDED','REJECTED') not null, primary key (id), check (status IN ('PENDING', 'APPROVED', 'REJECTED', 'FAILED', 'CANCELLED', 'REFUNDED')))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.2462399-05:00","@version":"1","level":"DEBUG","message":"create table pago_pedido (id_metodo_pago integer, id_pago integer generated by default as identity, id_pedido integer, monto float(53), primary key (id_pago))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.2472406-05:00","@version":"1","level":"DEBUG","message":"create table pedido (id_cliente integer, id_pedido integer generated by default as identity, total_pedido float(53), fecha_pedido timestamp(6), id_estado_pedido varchar(255), primary key (id_pedido))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.2492367-05:00","@version":"1","level":"DEBUG","message":"create table products (id integer generated by default as identity, price float(53) not null, stock_actual integer not null, stock_minimo integer not null, supplier_id integer, brand varchar(255), description TEXT, name varchar(255) not null, url_image varchar(255), primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.249743-05:00","@version":"1","level":"DEBUG","message":"create table supplier (id_supplier integer generated by default as identity, address varchar(255), email varchar(255), name varchar(255), primary key (id_supplier))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.2507515-05:00","@version":"1","level":"DEBUG","message":"create table tipo_movimiento (id_tipo integer generated by default as identity, concepto varchar(255), primary key (id_tipo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.2517454-05:00","@version":"1","level":"DEBUG","message":"create table user_roles (user_id integer not null, roles enum ('ROLE_ADMIN','ROLE_USER'))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.2527451-05:00","@version":"1","level":"DEBUG","message":"create table users (id integer generated by default as identity, verified boolean, deactivated_at timestamp(6), login_code_expiry timestamp(6), deactivation_reason varchar(500), email varchar(255), login_code varchar(255), password varchar(255), username varchar(255), verification_token varchar(255), primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.2537441-05:00","@version":"1","level":"DEBUG","message":"alter table if exists lotes add constraint FK508nf4uljuunqx6supqd81mlf foreign key (product_id) references products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.2562759-05:00","@version":"1","level":"DEBUG","message":"alter table if exists order_items add constraint FKbioxgbv59vetrxe0ejfubep1w foreign key (order_id) references orders","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.2582815-05:00","@version":"1","level":"DEBUG","message":"alter table if exists order_items add constraint FKocimc7dtr037rh4ls4l95nlfi foreign key (product_id) references products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.2592812-05:00","@version":"1","level":"DEBUG","message":"alter table if exists orders add constraint FK32ql8ubntj5uh44ph9659tiih foreign key (user_id) references users","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.2603828-05:00","@version":"1","level":"DEBUG","message":"alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.346634-05:00","@version":"1","level":"INFO","message":"Started ProductRepositoryTest in 0.599 seconds (process running for 13.726)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.4390937-05:00","@version":"1","level":"DEBUG","message":"select p1_0.id,p1_0.brand,p1_0.description,p1_0.name,p1_0.price,p1_0.stock_actual,p1_0.stock_minimo,p1_0.supplier_id,p1_0.url_image from products p1_0 where p1_0.name=?","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.5052217-05:00","@version":"1","level":"DEBUG","message":"insert into products (brand,description,name,price,stock_actual,stock_minimo,supplier_id,url_image,id) values (?,?,?,?,?,?,?,?,default)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.5489339-05:00","@version":"1","level":"DEBUG","message":"update products set brand=?,description=?,name=?,price=?,stock_actual=?,stock_minimo=?,supplier_id=?,url_image=? where id=?","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.5743229-05:00","@version":"1","level":"DEBUG","message":"select p1_0.id,p1_0.brand,p1_0.description,p1_0.name,p1_0.price,p1_0.stock_actual,p1_0.stock_minimo,p1_0.supplier_id,p1_0.url_image from products p1_0 where p1_0.id=?","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.5888701-05:00","@version":"1","level":"DEBUG","message":"select p1_0.id from products p1_0 where p1_0.name=? fetch first ? rows only","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.5964081-05:00","@version":"1","level":"DEBUG","message":"insert into products (brand,description,name,price,stock_actual,stock_minimo,supplier_id,url_image,id) values (?,?,?,?,?,?,?,?,default)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.5999361-05:00","@version":"1","level":"DEBUG","message":"select p1_0.id,p1_0.brand,p1_0.description,p1_0.name,p1_0.price,p1_0.stock_actual,p1_0.stock_minimo,p1_0.supplier_id,p1_0.url_image from products p1_0 where p1_0.name=?","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.6100001-05:00","@version":"1","level":"DEBUG","message":"insert into products (brand,description,name,price,stock_actual,stock_minimo,supplier_id,url_image,id) values (?,?,?,?,?,?,?,?,default)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.6180234-05:00","@version":"1","level":"DEBUG","message":"insert into products (brand,description,name,price,stock_actual,stock_minimo,supplier_id,url_image,id) values (?,?,?,?,?,?,?,?,default)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.6215389-05:00","@version":"1","level":"DEBUG","message":"select p1_0.id from products p1_0 where p1_0.name=? fetch first ? rows only","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.6290633-05:00","@version":"1","level":"DEBUG","message":"insert into products (brand,description,name,price,stock_actual,stock_minimo,supplier_id,url_image,id) values (?,?,?,?,?,?,?,?,default)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.6320947-05:00","@version":"1","level":"DEBUG","message":"insert into products (brand,description,name,price,stock_actual,stock_minimo,supplier_id,url_image,id) values (?,?,?,?,?,?,?,?,default)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.6401331-05:00","@version":"1","level":"DEBUG","message":"select p1_0.id,p1_0.brand,p1_0.description,p1_0.name,p1_0.price,p1_0.stock_actual,p1_0.stock_minimo,p1_0.supplier_id,p1_0.url_image from products p1_0","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.6481434-05:00","@version":"1","level":"DEBUG","message":"insert into products (brand,description,name,price,stock_actual,stock_minimo,supplier_id,url_image,id) values (?,?,?,?,?,?,?,?,default)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.6556526-05:00","@version":"1","level":"DEBUG","message":"delete from products where id=?","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.6596699-05:00","@version":"1","level":"DEBUG","message":"select p1_0.id,p1_0.brand,p1_0.description,p1_0.name,p1_0.price,p1_0.stock_actual,p1_0.stock_minimo,p1_0.supplier_id,p1_0.url_image from products p1_0 where p1_0.id=?","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:12.6656866-05:00","@version":"1","level":"DEBUG","message":"insert into products (brand,description,name,price,stock_actual,stock_minimo,supplier_id,url_image,id) values (?,?,?,?,?,?,?,?,default)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:13.6832401-05:00","@version":"1","level":"INFO","message":"Starting ZugarezBackApplicationTests using Java 23.0.2 with PID 3656 (started by Luich in C:\\Users\\Luich\\Desktop\\Universidad 2025-2\\Software III\\Zugarez\\zugarez-BACK)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:13.6832401-05:00","@version":"1","level":"DEBUG","message":"Running with Spring Boot v3.5.4, Spring v6.2.9","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:13.6842261-05:00","@version":"1","level":"INFO","message":"No active profile set, falling back to 1 default profile: \"default\"","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4429323-05:00","@version":"1","level":"DEBUG","message":"drop table if exists cargo cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4449267-05:00","@version":"1","level":"DEBUG","message":"drop table if exists contrato cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4459283-05:00","@version":"1","level":"DEBUG","message":"drop table if exists empleado cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4469252-05:00","@version":"1","level":"DEBUG","message":"drop table if exists inventario_movimientos cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4479261-05:00","@version":"1","level":"DEBUG","message":"drop table if exists lotes cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4479261-05:00","@version":"1","level":"DEBUG","message":"drop table if exists metodo_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4494364-05:00","@version":"1","level":"DEBUG","message":"drop table if exists nomina_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4494364-05:00","@version":"1","level":"DEBUG","message":"drop table if exists order_items cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4504442-05:00","@version":"1","level":"DEBUG","message":"drop table if exists orders cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4514403-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pago_pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4514403-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4524431-05:00","@version":"1","level":"DEBUG","message":"drop table if exists products cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4524431-05:00","@version":"1","level":"DEBUG","message":"drop table if exists supplier cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4524431-05:00","@version":"1","level":"DEBUG","message":"drop table if exists tipo_movimiento cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4534394-05:00","@version":"1","level":"DEBUG","message":"drop table if exists user_roles cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4544461-05:00","@version":"1","level":"DEBUG","message":"drop table if exists users cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4554493-05:00","@version":"1","level":"DEBUG","message":"create table cargo (id_cargo integer generated by default as identity, nombre_cargo varchar(255), primary key (id_cargo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4574428-05:00","@version":"1","level":"DEBUG","message":"create table contrato (id_contrato integer generated by default as identity, id_empleado integer, salario_base float(53), fecha_fin timestamp(6), fecha_inicio timestamp(6), primary key (id_contrato))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.458945-05:00","@version":"1","level":"DEBUG","message":"create table empleado (id_cargo integer, id_empleado integer generated by default as identity, apellido varchar(255), cedula varchar(255), email varchar(255), nombre varchar(255), primary key (id_empleado))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4599494-05:00","@version":"1","level":"DEBUG","message":"create table inventario_movimientos (cantidad integer, id_lote integer, id_movimiento integer generated by default as identity, id_tipo_movimiento integer, fecha_movimiento timestamp(6), motivo varchar(255), primary key (id_movimiento))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4609527-05:00","@version":"1","level":"DEBUG","message":"create table lotes (available_quantity integer not null, batch_price float(53) not null, created_at date, expiration_date date not null, id integer generated by default as identity, initial_quantity integer not null, product_id integer not null, unit_price float(53) not null, primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4619602-05:00","@version":"1","level":"DEBUG","message":"create table metodo_pago (id_metodo integer generated by default as identity, concepto varchar(255), primary key (id_metodo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4629598-05:00","@version":"1","level":"DEBUG","message":"create table nomina_pago (adiciones float(53), deducciones float(53), id_contrato integer, id_pago integer generated by default as identity, neto float(53), salario_bruto float(53), fecha_pago timestamp(6), primary key (id_pago))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4649703-05:00","@version":"1","level":"DEBUG","message":"create table order_items (id integer generated by default as identity, order_id integer not null, price numeric(10,2) not null, product_id integer not null, quantity integer not null, subtotal numeric(10,2) not null, primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4669625-05:00","@version":"1","level":"DEBUG","message":"create table orders (id integer generated by default as identity, subtotal numeric(10,2) not null, tax numeric(10,2) not null, total numeric(10,2) not null, user_id integer not null, created_at timestamp(6) not null, updated_at timestamp(6), mercadopago_payment_id varchar(100), mercadopago_preference_id varchar(100), status enum ('APPROVED','CANCELLED','FAILED','PENDING','REFUNDED','REJECTED') not null, primary key (id), check (status IN ('PENDING', 'APPROVED', 'REJECTED', 'FAILED', 'CANCELLED', 'REFUNDED')))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4689624-05:00","@version":"1","level":"DEBUG","message":"create table pago_pedido (id_metodo_pago integer, id_pago integer generated by default as identity, id_pedido integer, monto float(53), primary key (id_pago))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4704819-05:00","@version":"1","level":"DEBUG","message":"create table pedido (id_cliente integer, id_pedido integer generated by default as identity, total_pedido float(53), fecha_pedido timestamp(6), id_estado_pedido varchar(255), primary key (id_pedido))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4714812-05:00","@version":"1","level":"DEBUG","message":"create table products (id integer generated by default as identity, price float(53) not null, stock_actual integer not null, stock_minimo integer not null, supplier_id integer, brand varchar(255), description TEXT, name varchar(255) not null, url_image varchar(255), primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4744848-05:00","@version":"1","level":"DEBUG","message":"create table supplier (id_supplier integer generated by default as identity, address varchar(255), email varchar(255), name varchar(255), primary key (id_supplier))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4754823-05:00","@version":"1","level":"DEBUG","message":"create table tipo_movimiento (id_tipo integer generated by default as identity, concepto varchar(255), primary key (id_tipo))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4764866-05:00","@version":"1","level":"DEBUG","message":"create table user_roles (user_id integer not null, roles enum ('ROLE_ADMIN','ROLE_USER'))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4774807-05:00","@version":"1","level":"DEBUG","message":"create table users (id integer generated by default as identity, verified boolean, deactivated_at timestamp(6), login_code_expiry timestamp(6), deactivation_reason varchar(500), email varchar(255), login_code varchar(255), password varchar(255), username varchar(255), verification_token varchar(255), primary key (id))","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4789976-05:00","@version":"1","level":"DEBUG","message":"alter table if exists lotes add constraint FK508nf4uljuunqx6supqd81mlf foreign key (product_id) references products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4810081-05:00","@version":"1","level":"DEBUG","message":"alter table if exists order_items add constraint FKbioxgbv59vetrxe0ejfubep1w foreign key (order_id) references orders","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4820125-05:00","@version":"1","level":"DEBUG","message":"alter table if exists order_items add constraint FKocimc7dtr037rh4ls4l95nlfi foreign key (product_id) references products","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4840127-05:00","@version":"1","level":"DEBUG","message":"alter table if exists orders add constraint FK32ql8ubntj5uh44ph9659tiih foreign key (user_id) references users","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.4860035-05:00","@version":"1","level":"DEBUG","message":"alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5381744-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.update(int,com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5381744-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.update(int,com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5434488-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.delete(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5444463-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.delete(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5444463-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.save(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5454385-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.save(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5454385-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getAll()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5454385-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getAll()]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5454385-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.debugSql()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5454385-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.debugSql()]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5454385-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.saveAndReturn(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5454385-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.saveAndReturn(com.zugarez.zugarez_BACK.CRUD.dto.ProductDto) throws com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5454385-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getOne(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.546438-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.CRUD.controller.ProductController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.CRUD.controller.ProductController.getOne(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5871359-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLotesProximosAVencer(int)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5881432-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLotesProximosAVencer(int)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5896677-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getAllLotes()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5896677-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getAllLotes()]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5896677-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getAvailableLotes()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5906783-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getAvailableLotes()]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5906783-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLotesByProduct(int)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5906783-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLotesByProduct(int)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5906783-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLoteById(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5906783-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getLoteById(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5906783-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.deleteLote(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5916817-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.deleteLote(int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5916817-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.updateLote(int,com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5916817-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.updateLote(int,com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5916817-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.createLote(com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5916817-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.createLote(com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5926808-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getStockByProduct(int)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5926808-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.getStockByProduct(int)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5926808-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.reduceStock(int,int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5926808-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.reduceStock(int,int) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5926808-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.createLoteAndReturn(com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.5926808-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.inventory.controller.LoteController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.inventory.controller.LoteController.createLoteAndReturn(com.zugarez.zugarez_BACK.inventory.dto.LoteDto) throws com.zugarez.zugarez_BACK.global.exceptions.ResourceNotFoundException,com.zugarez.zugarez_BACK.global.exceptions.AttributeException]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.6157268-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.getOrder(java.lang.Integer,jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.6167217-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.payment.controller.PaymentController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.getOrder(java.lang.Integer,jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.61772-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.checkPaymentStatus(java.lang.Integer,jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.61772-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.payment.controller.PaymentController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.checkPaymentStatus(java.lang.Integer,jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.61772-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.checkout(com.zugarez.zugarez_BACK.payment.dto.CheckoutRequest,jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.61772-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.payment.controller.PaymentController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.checkout(com.zugarez.zugarez_BACK.payment.dto.CheckoutRequest,jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.61772-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasAnyRole('USER','ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.getMyOrders(jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.61772-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.payment.controller.PaymentController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.payment.controller.PaymentController.getMyOrders(jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasAnyRole('USER','ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.643081-05:00","@version":"1","level":"INFO","message":"Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.6460918-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.security.controller.UserController.getDeactivatedUsers()","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.6460918-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.security.controller.UserController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.security.controller.UserController.getDeactivatedUsers()]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.6470855-05:00","@version":"1","level":"DEBUG","message":"@org.springframework.security.access.prepost.PreAuthorize(\"hasRole('ADMIN')\") found on specific method: public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.security.controller.UserController.reactivateUser(int,jakarta.servlet.http.HttpServletRequest)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.6470855-05:00","@version":"1","level":"DEBUG","message":"Caching method [CacheKey[com.zugarez.zugarez_BACK.security.controller.UserController; public org.springframework.http.ResponseEntity com.zugarez.zugarez_BACK.security.controller.UserController.reactivateUser(int,jakarta.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.6977042-05:00","@version":"1","level":"INFO","message":"Registrando AuthInterceptor","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.6977042-05:00","@version":"1","level":"INFO","message":"AuthInterceptor registrado correctamente","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.6977042-05:00","@version":"1","level":"INFO","message":"Rutas protegidas: /api/**, /payment/** (excepto callbacks)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.8560612-05:00","@version":"1","level":"DEBUG","message":"Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:14.996808-05:00","@version":"1","level":"INFO","message":"Started ZugarezBackApplicationTests in 1.337 seconds (process running for 16.376)","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.1809368-05:00","@version":"1","level":"DEBUG","message":"select p1_0.id,p1_0.brand,p1_0.description,p1_0.name,p1_0.price,p1_0.stock_actual,p1_0.stock_minimo,p1_0.supplier_id,p1_0.url_image from products p1_0","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2563302-05:00","@version":"1","level":"DEBUG","message":"drop table if exists cargo cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.257329-05:00","@version":"1","level":"DEBUG","message":"drop table if exists contrato cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.257329-05:00","@version":"1","level":"DEBUG","message":"drop table if exists empleado cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2588412-05:00","@version":"1","level":"DEBUG","message":"drop table if exists inventario_movimientos cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2593934-05:00","@version":"1","level":"DEBUG","message":"drop table if exists lotes cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2593934-05:00","@version":"1","level":"DEBUG","message":"drop table if exists metodo_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2604343-05:00","@version":"1","level":"DEBUG","message":"drop table if exists nomina_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2604343-05:00","@version":"1","level":"DEBUG","message":"drop table if exists order_items cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2614133-05:00","@version":"1","level":"DEBUG","message":"drop table if exists orders cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2624135-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pago_pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2624135-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2634247-05:00","@version":"1","level":"DEBUG","message":"drop table if exists products cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2634247-05:00","@version":"1","level":"DEBUG","message":"drop table if exists supplier cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2644241-05:00","@version":"1","level":"DEBUG","message":"drop table if exists tipo_movimiento cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2644241-05:00","@version":"1","level":"DEBUG","message":"drop table if exists user_roles cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2644241-05:00","@version":"1","level":"DEBUG","message":"drop table if exists users cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2709472-05:00","@version":"1","level":"DEBUG","message":"drop table if exists cargo cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2719621-05:00","@version":"1","level":"DEBUG","message":"drop table if exists contrato cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2729544-05:00","@version":"1","level":"DEBUG","message":"drop table if exists empleado cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2729544-05:00","@version":"1","level":"DEBUG","message":"drop table if exists inventario_movimientos cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2739648-05:00","@version":"1","level":"DEBUG","message":"drop table if exists lotes cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2739648-05:00","@version":"1","level":"DEBUG","message":"drop table if exists metodo_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2749645-05:00","@version":"1","level":"DEBUG","message":"drop table if exists nomina_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2749645-05:00","@version":"1","level":"DEBUG","message":"drop table if exists order_items cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.275967-05:00","@version":"1","level":"DEBUG","message":"drop table if exists orders cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.275967-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pago_pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2769767-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2769767-05:00","@version":"1","level":"DEBUG","message":"drop table if exists products cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2769767-05:00","@version":"1","level":"DEBUG","message":"drop table if exists supplier cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2779645-05:00","@version":"1","level":"DEBUG","message":"drop table if exists tipo_movimiento cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2779645-05:00","@version":"1","level":"DEBUG","message":"drop table if exists user_roles cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2779645-05:00","@version":"1","level":"DEBUG","message":"drop table if exists users cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2804968-05:00","@version":"1","level":"DEBUG","message":"drop table if exists cargo cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2814943-05:00","@version":"1","level":"DEBUG","message":"drop table if exists contrato cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2814943-05:00","@version":"1","level":"DEBUG","message":"drop table if exists empleado cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2814943-05:00","@version":"1","level":"DEBUG","message":"drop table if exists inventario_movimientos cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2814943-05:00","@version":"1","level":"DEBUG","message":"drop table if exists lotes cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2814943-05:00","@version":"1","level":"DEBUG","message":"drop table if exists metodo_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2824823-05:00","@version":"1","level":"DEBUG","message":"drop table if exists nomina_pago cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2824823-05:00","@version":"1","level":"DEBUG","message":"drop table if exists order_items cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2824823-05:00","@version":"1","level":"DEBUG","message":"drop table if exists orders cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2824823-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pago_pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2824823-05:00","@version":"1","level":"DEBUG","message":"drop table if exists pedido cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2824823-05:00","@version":"1","level":"DEBUG","message":"drop table if exists products cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2824823-05:00","@version":"1","level":"DEBUG","message":"drop table if exists supplier cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2824823-05:00","@version":"1","level":"DEBUG","message":"drop table if exists tipo_movimiento cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2824823-05:00","@version":"1","level":"DEBUG","message":"drop table if exists user_roles cascade ","service":"zugarez-backend","trace":"","span":""}
{"@timestamp":"2025-10-19T18:21:15.2824823-05:00","@version":"1","level":"DEBUG","message":"drop table if exists users cascade ","service":"zugarez-backend","trace":"","span":""}
